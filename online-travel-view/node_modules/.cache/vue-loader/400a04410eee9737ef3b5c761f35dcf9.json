{"remainingRequest":"D:\\毕业设计\\Online-Travel\\online-travel-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\毕业设计\\Online-Travel\\online-travel-view\\src\\views\\user\\Order.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\毕业设计\\Online-Travel\\online-travel-view\\src\\views\\user\\Order.vue","mtime":1743962327185},{"path":"D:\\毕业设计\\Online-Travel\\online-travel-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\毕业设计\\Online-Travel\\online-travel-view\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\毕业设计\\Online-Travel\\online-travel-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\毕业设计\\Online-Travel\\online-travel-view\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgTGluZUNoYXJ0IGZyb20gIkAvY29tcG9uZW50cy9MaW5lQ2hhcnQiDQpleHBvcnQgZGVmYXVsdCB7DQogICAgY29tcG9uZW50czogeyBMaW5lQ2hhcnQgfSwNCiAgICBkYXRhKCkgew0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgZmlsdGVyVGV4dDogJycsDQogICAgICAgICAgICAvLyDpl6jnpajorqLljZXnm7jlhbPmlbDmja4NCiAgICAgICAgICAgIHRpY2tldEN1cnJlbnRQYWdlOiAxLA0KICAgICAgICAgICAgdGlja2V0UGFnZVNpemU6IDEwLA0KICAgICAgICAgICAgdGlja2V0VG90YWxJdGVtczogMCwNCiAgICAgICAgICAgIHRpY2tldFF1ZXJ5RGF5czogMzY1LA0KICAgICAgICAgICAgdGlja2V0VGFibGVEYXRhOiBbXSwNCiAgICAgICAgICAgIHRpY2tldFNlbGVjdGVkUm93czogW10sDQogICAgICAgICAgICBzY2VuaWNUaWNrZXRPcmRlclF1ZXJ5RHRvOiB7fSwNCiAgICAgICAgICAgIHRpY2tldFNlYXJjaFRpbWU6IFtdLA0KICAgICAgICAgICAgdGlja2V0VmFsdWVzOiBbXSwNCiAgICAgICAgICAgIHRpY2tldERhdGVzOiBbXSwNCiAgICAgICAgICAgIC8vIOmFkuW6l+iuouWNleebuOWFs+aVsOaNrg0KICAgICAgICAgICAgaG90ZWxDdXJyZW50UGFnZTogMSwNCiAgICAgICAgICAgIGhvdGVsUGFnZVNpemU6IDEwLA0KICAgICAgICAgICAgaG90ZWxUb3RhbEl0ZW1zOiAwLA0KICAgICAgICAgICAgaG90ZWxRdWVyeURheXM6IDM2NSwNCiAgICAgICAgICAgIGhvdGVsVGFibGVEYXRhOiBbXSwNCiAgICAgICAgICAgIGhvdGVsU2VsZWN0ZWRSb3dzOiBbXSwNCiAgICAgICAgICAgIGhvdGVsT3JkZXJRdWVyeUR0bzoge30sDQogICAgICAgICAgICBob3RlbFNlYXJjaFRpbWU6IFtdLA0KICAgICAgICAgICAgaG90ZWxWYWx1ZXM6IFtdLA0KICAgICAgICAgICAgaG90ZWxEYXRlczogW10sDQogICAgICAgICAgICBzdGF0dXNMaXN0OiBbeyB2YWx1ZTogbnVsbCwgbGFiZWw6ICflhajpg6gnIH0sIHsgdmFsdWU6IDAsIGxhYmVsOiAn5pyq5pSv5LuYJyB9LCB7IHZhbHVlOiAxLCBsYWJlbDogJ+W3suaUr+S7mCcgfV0sDQogICAgICAgIH07DQogICAgfSwNCiAgICBjcmVhdGVkKCkgew0KICAgICAgICB0aGlzLmZldGNoVGlja2V0RnJlc2hEYXRhKCk7DQogICAgICAgIHRoaXMuZmV0Y2hIb3RlbEZyZXNoRGF0YSgpOw0KICAgICAgICAvLyDmlbDmja7lpKrlsJHvvIzpu5jorqTmn6UzNjXlpKkNCiAgICAgICAgdGhpcy5zZWxlY3RlZFRpY2tldERhdGEodGhpcy50aWNrZXRRdWVyeURheXMpOw0KICAgICAgICB0aGlzLnNlbGVjdGVkSG90ZWxEYXRhKHRoaXMuaG90ZWxRdWVyeURheXMpOw0KICAgIH0sDQogICAgbWV0aG9kczogew0KICAgICAgICAvLyDor7fmsYLlkI7nq6/nmoTpl6jnpajph5Hpop3miJDkuqTmlbDmja4NCiAgICAgICAgc2VsZWN0ZWRUaWNrZXREYXRhKHRpbWUpIHsNCiAgICAgICAgICAgIHRoaXMuJGF4aW9zLmdldChgL3NjZW5pY1RpY2tldE9yZGVyL2RheXNRdWVyeVVzZXIvJHt0aW1lfWApLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gcmVzcG9uc2U7DQogICAgICAgICAgICAgICAgaWYgKGRhdGEuY29kZSA9PT0gMjAwKSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMudGlja2V0VmFsdWVzID0gZGF0YS5kYXRhLm1hcChlbnRpdHkgPT4gZW50aXR5LmNvdW50KTsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy50aWNrZXREYXRlcyA9IGRhdGEuZGF0YS5tYXAoZW50aXR5ID0+IGVudGl0eS5uYW1lKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KQ0KICAgICAgICB9LA0KICAgICAgICAvLyDor7fmsYLlkI7nq6/nmoTphZLlupfph5Hpop3miJDkuqTmlbDmja4NCiAgICAgICAgc2VsZWN0ZWRIb3RlbERhdGEodGltZSkgew0KICAgICAgICAgICAgdGhpcy4kYXhpb3MuZ2V0KGAvaG90ZWxPcmRlckluZm8vZGF5c1F1ZXJ5VXNlci8ke3RpbWV9YCkudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgICAgICAgICAgY29uc3QgeyBkYXRhIH0gPSByZXNwb25zZTsNCiAgICAgICAgICAgICAgICBpZiAoZGF0YS5jb2RlID09PSAyMDApIHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5ob3RlbFZhbHVlcyA9IGRhdGEuZGF0YS5tYXAoZW50aXR5ID0+IGVudGl0eS5jb3VudCk7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuaG90ZWxEYXRlcyA9IGRhdGEuZGF0YS5tYXAoZW50aXR5ID0+IGVudGl0eS5uYW1lKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KQ0KICAgICAgICB9LA0KICAgICAgICAvLyDnva7kvY0NCiAgICAgICAgY2FubmVsKCkgew0KICAgICAgICAgICAgdGhpcy5kYXRhID0ge307DQogICAgICAgICAgICB0aGlzLmRpYWxvZ09wZXJhdGlvbiA9IGZhbHNlOw0KICAgICAgICAgICAgdGhpcy5pc09wZXJhdGlvbiA9IGZhbHNlOw0KICAgICAgICB9LA0KICAgICAgICAvLyDmibnph4/liKDpmaTpl6jnpajorqLljZXmlbDmja4NCiAgICAgICAgYXN5bmMgYmF0Y2hEZWxldGVUaWNrZXQoKSB7DQogICAgICAgICAgICBpZiAoIXRoaXMudGlja2V0U2VsZWN0ZWRSb3dzLmxlbmd0aCkgew0KICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoYOacqumAieS4reS7u+S9lemXqOelqOiuouWNleaVsOaNrmApOw0KICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGNvbnN0IGNvbmZpcm1lZCA9IGF3YWl0IHRoaXMuJHN3YWxDb25maXJtKHsNCiAgICAgICAgICAgICAgICB0aXRsZTogJ+WIoOmZpOmXqOelqOiuouWNleaVsOaNricsDQogICAgICAgICAgICAgICAgdGV4dDogYOWIoOmZpOWQjuS4jeWPr+aBouWkje+8jOaYr+WQpue7p+e7re+8n2AsDQogICAgICAgICAgICAgICAgaWNvbjogJ3dhcm5pbmcnLA0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICBpZiAoY29uZmlybWVkKSB7DQogICAgICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgICAgICAgbGV0IGlkcyA9IHRoaXMudGlja2V0U2VsZWN0ZWRSb3dzLm1hcChlbnRpdHkgPT4gZW50aXR5LmlkKTsNCiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLiRheGlvcy5wb3N0KGAvc2NlbmljVGlja2V0T3JkZXIvYmF0Y2hEZWxldGVgLCBpZHMpOw0KICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5jb2RlID09PSAyMDApIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHN3YWwuZmlyZSh7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfliKDpmaTmj5DnpLonLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IHJlc3BvbnNlLmRhdGEubXNnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICdzdWNjZXNzJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZXI6IDIwMDAsDQogICAgICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZmV0Y2hUaWNrZXRGcmVzaERhdGEoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kc3dhbC5maXJlKHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn6ZSZ6K+v5o+Q56S6JywNCiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IGUsDQogICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAnZXJyb3InLA0KICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLA0KICAgICAgICAgICAgICAgICAgICAgICAgdGltZXI6IDIwMDAsDQogICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGDpl6jnpajorqLljZXkv6Hmga/liKDpmaTlvILluLjvvJpgLCBlKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIC8vIOaJuemHj+WIoOmZpOmFkuW6l+iuouWNleaVsOaNrg0KICAgICAgICBhc3luYyBiYXRjaERlbGV0ZUhvdGVsKCkgew0KICAgICAgICAgICAgaWYgKCF0aGlzLmhvdGVsU2VsZWN0ZWRSb3dzLmxlbmd0aCkgew0KICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoYOacqumAieS4reS7u+S9lemFkuW6l+iuouWNleaVsOaNrmApOw0KICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGNvbnN0IGNvbmZpcm1lZCA9IGF3YWl0IHRoaXMuJHN3YWxDb25maXJtKHsNCiAgICAgICAgICAgICAgICB0aXRsZTogJ+WIoOmZpOmFkuW6l+iuouWNleaVsOaNricsDQogICAgICAgICAgICAgICAgdGV4dDogYOWIoOmZpOWQjuS4jeWPr+aBouWkje+8jOaYr+WQpue7p+e7re+8n2AsDQogICAgICAgICAgICAgICAgaWNvbjogJ3dhcm5pbmcnLA0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICBpZiAoY29uZmlybWVkKSB7DQogICAgICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgICAgICAgbGV0IGlkcyA9IHRoaXMuaG90ZWxTZWxlY3RlZFJvd3MubWFwKGVudGl0eSA9PiBlbnRpdHkuaWQpOw0KICAgICAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuJGF4aW9zLnBvc3QoYC9ob3RlbE9yZGVySW5mby9iYXRjaERlbGV0ZWAsIGlkcyk7DQogICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmNvZGUgPT09IDIwMCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kc3dhbC5maXJlKHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ+WIoOmZpOaPkOekuicsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogcmVzcG9uc2UuZGF0YS5tc2csDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogJ3N1Y2Nlc3MnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lcjogMjAwMCwNCiAgICAgICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mZXRjaEhvdGVsRnJlc2hEYXRhKCk7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuJHN3YWwuZmlyZSh7DQogICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ+mUmeivr+aPkOekuicsDQogICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBlLA0KICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogJ2Vycm9yJywNCiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVyOiAyMDAwLA0KICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihg6YWS5bqX6K6i5Y2V5L+h5oGv5Yig6Zmk5byC5bi477yaYCwgZSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICAvLyDliLfmlrDpl6jnpajorqLljZXmlbDmja4NCiAgICAgICAgYXN5bmMgZmV0Y2hUaWNrZXRGcmVzaERhdGEoKSB7DQogICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgIGxldCBzdGFydFRpbWUgPSBudWxsOw0KICAgICAgICAgICAgICAgIGxldCBlbmRUaW1lID0gbnVsbDsNCiAgICAgICAgICAgICAgICBpZiAodGhpcy50aWNrZXRTZWFyY2hUaW1lICE9IG51bGwgJiYgdGhpcy50aWNrZXRTZWFyY2hUaW1lLmxlbmd0aCA9PT0gMikgew0KICAgICAgICAgICAgICAgICAgICBjb25zdCBbc3RhcnREYXRlLCBlbmREYXRlXSA9IGF3YWl0IFByb21pc2UuYWxsKHRoaXMudGlja2V0U2VhcmNoVGltZS5tYXAoZGF0ZSA9PiBkYXRlLnRvSVNPU3RyaW5nKCkpKTsNCiAgICAgICAgICAgICAgICAgICAgc3RhcnRUaW1lID0gYCR7c3RhcnREYXRlLnNwbGl0KCdUJylbMF19VDAwOjAwOjAwYDsNCiAgICAgICAgICAgICAgICAgICAgZW5kVGltZSA9IGAke2VuZERhdGUuc3BsaXQoJ1QnKVswXX1UMjM6NTk6NTlgOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAvLyDor7fmsYLlj4LmlbANCiAgICAgICAgICAgICAgICBjb25zdCBwYXJhbXMgPSB7DQogICAgICAgICAgICAgICAgICAgIGN1cnJlbnQ6IHRoaXMudGlja2V0Q3VycmVudFBhZ2UsDQogICAgICAgICAgICAgICAgICAgIHNpemU6IHRoaXMudGlja2V0UGFnZVNpemUsDQogICAgICAgICAgICAgICAgICAgIGtleTogdGhpcy5maWx0ZXJUZXh0LA0KICAgICAgICAgICAgICAgICAgICBzdGFydFRpbWU6IHN0YXJ0VGltZSwNCiAgICAgICAgICAgICAgICAgICAgZW5kVGltZTogZW5kVGltZSwNCiAgICAgICAgICAgICAgICAgICAgLi4udGhpcy5zY2VuaWNUaWNrZXRPcmRlclF1ZXJ5RHRvDQogICAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuJGF4aW9zLnBvc3QoJy9zY2VuaWNUaWNrZXRPcmRlci9xdWVyeVVzZXInLCBwYXJhbXMpOw0KICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gcmVzcG9uc2U7DQogICAgICAgICAgICAgICAgdGhpcy50aWNrZXRUYWJsZURhdGEgPSBkYXRhLmRhdGE7DQogICAgICAgICAgICAgICAgdGhpcy50aWNrZXRUb3RhbEl0ZW1zID0gZGF0YS50b3RhbDsNCiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7DQogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcign5p+l6K+i6Zeo56Wo6K6i5Y2V5L+h5oGv5byC5bi4OicsIGVycm9yKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgLy8g5Yi35paw6YWS5bqX6K6i5Y2V5pWw5o2uDQogICAgICAgIGFzeW5jIGZldGNoSG90ZWxGcmVzaERhdGEoKSB7DQogICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgIGxldCBzdGFydFRpbWUgPSBudWxsOw0KICAgICAgICAgICAgICAgIGxldCBlbmRUaW1lID0gbnVsbDsNCiAgICAgICAgICAgICAgICBpZiAodGhpcy5ob3RlbFNlYXJjaFRpbWUgIT0gbnVsbCAmJiB0aGlzLmhvdGVsU2VhcmNoVGltZS5sZW5ndGggPT09IDIpIHsNCiAgICAgICAgICAgICAgICAgICAgY29uc3QgW3N0YXJ0RGF0ZSwgZW5kRGF0ZV0gPSBhd2FpdCBQcm9taXNlLmFsbCh0aGlzLmhvdGVsU2VhcmNoVGltZS5tYXAoZGF0ZSA9PiBkYXRlLnRvSVNPU3RyaW5nKCkpKTsNCiAgICAgICAgICAgICAgICAgICAgc3RhcnRUaW1lID0gYCR7c3RhcnREYXRlLnNwbGl0KCdUJylbMF19VDAwOjAwOjAwYDsNCiAgICAgICAgICAgICAgICAgICAgZW5kVGltZSA9IGAke2VuZERhdGUuc3BsaXQoJ1QnKVswXX1UMjM6NTk6NTlgOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAvLyDor7fmsYLlj4LmlbANCiAgICAgICAgICAgICAgICBjb25zdCBwYXJhbXMgPSB7DQogICAgICAgICAgICAgICAgICAgIGN1cnJlbnQ6IHRoaXMuaG90ZWxDdXJyZW50UGFnZSwNCiAgICAgICAgICAgICAgICAgICAgc2l6ZTogdGhpcy5ob3RlbFBhZ2VTaXplLA0KICAgICAgICAgICAgICAgICAgICBrZXk6IHRoaXMuZmlsdGVyVGV4dCwNCiAgICAgICAgICAgICAgICAgICAgc3RhcnRUaW1lOiBzdGFydFRpbWUsDQogICAgICAgICAgICAgICAgICAgIGVuZFRpbWU6IGVuZFRpbWUsDQogICAgICAgICAgICAgICAgICAgIC4uLnRoaXMuaG90ZWxPcmRlclF1ZXJ5RHRvDQogICAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuJGF4aW9zLnBvc3QoJy9ob3RlbE9yZGVySW5mby9xdWVyeVVzZXInLCBwYXJhbXMpOw0KICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gcmVzcG9uc2U7DQogICAgICAgICAgICAgICAgdGhpcy5ob3RlbFRhYmxlRGF0YSA9IGRhdGEuZGF0YTsNCiAgICAgICAgICAgICAgICB0aGlzLmhvdGVsVG90YWxJdGVtcyA9IGRhdGEudG90YWw7DQogICAgICAgICAgICB9IGNhdGNoIChlcnJvcikgew0KICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+afpeivoumFkuW6l+iuouWNleS/oeaBr+W8guW4uDonLCBlcnJvcik7DQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIGFkZCgpIHsNCiAgICAgICAgICAgIHRoaXMuZGlhbG9nT3BlcmF0aW9uID0gdHJ1ZTsNCiAgICAgICAgfSwNCiAgICAgICAgaGFuZGxlVGlja2V0RmlsdGVyKCkgew0KICAgICAgICAgICAgdGhpcy50aWNrZXRDdXJyZW50UGFnZSA9IDE7DQogICAgICAgICAgICB0aGlzLmZldGNoVGlja2V0RnJlc2hEYXRhKCk7DQogICAgICAgIH0sDQogICAgICAgIGhhbmRsZVRpY2tldEZpbHRlckNsZWFyKCkgew0KICAgICAgICAgICAgdGhpcy5maWx0ZXJUZXh0ID0gJyc7DQogICAgICAgICAgICB0aGlzLmhhbmRsZVRpY2tldEZpbHRlcigpOw0KICAgICAgICB9LA0KICAgICAgICBoYW5kbGVIb3RlbEZpbHRlcigpIHsNCiAgICAgICAgICAgIHRoaXMuaG90ZWxDdXJyZW50UGFnZSA9IDE7DQogICAgICAgICAgICB0aGlzLmZldGNoSG90ZWxGcmVzaERhdGEoKTsNCiAgICAgICAgfSwNCiAgICAgICAgaGFuZGxlSG90ZWxGaWx0ZXJDbGVhcigpIHsNCiAgICAgICAgICAgIHRoaXMuZmlsdGVyVGV4dCA9ICcnOw0KICAgICAgICAgICAgdGhpcy5oYW5kbGVIb3RlbEZpbHRlcigpOw0KICAgICAgICB9LA0KICAgICAgICBoYW5kbGVUaWNrZXRTaXplQ2hhbmdlKHZhbCkgew0KICAgICAgICAgICAgdGhpcy50aWNrZXRQYWdlU2l6ZSA9IHZhbDsNCiAgICAgICAgICAgIHRoaXMudGlja2V0Q3VycmVudFBhZ2UgPSAxOw0KICAgICAgICAgICAgdGhpcy5mZXRjaFRpY2tldEZyZXNoRGF0YSgpOw0KICAgICAgICB9LA0KICAgICAgICBoYW5kbGVUaWNrZXRDdXJyZW50Q2hhbmdlKHZhbCkgew0KICAgICAgICAgICAgdGhpcy50aWNrZXRDdXJyZW50UGFnZSA9IHZhbDsNCiAgICAgICAgICAgIHRoaXMuZmV0Y2hUaWNrZXRGcmVzaERhdGEoKTsNCiAgICAgICAgfSwNCiAgICAgICAgaGFuZGxlSG90ZWxTaXplQ2hhbmdlKHZhbCkgew0KICAgICAgICAgICAgdGhpcy5ob3RlbFBhZ2VTaXplID0gdmFsOw0KICAgICAgICAgICAgdGhpcy5ob3RlbEN1cnJlbnRQYWdlID0gMTsNCiAgICAgICAgICAgIHRoaXMuZmV0Y2hIb3RlbEZyZXNoRGF0YSgpOw0KICAgICAgICB9LA0KICAgICAgICBoYW5kbGVIb3RlbEN1cnJlbnRDaGFuZ2UodmFsKSB7DQogICAgICAgICAgICB0aGlzLmhvdGVsQ3VycmVudFBhZ2UgPSB2YWw7DQogICAgICAgICAgICB0aGlzLmZldGNoSG90ZWxGcmVzaERhdGEoKTsNCiAgICAgICAgfSwNCiAgICAgICAgLy8g5aSE55CG6Zeo56Wo5pSv5LuY55qE5pa55rOVDQogICAgICAgIGhhbmRsZVRpY2tldFBheShyb3cpIHsNCiAgICAgICAgICAgIGNvbnN0IHNjZW5pVGlja2V0T3JkZXIgPSB7IGlkOiByb3cuaWQgfQ0KICAgICAgICAgICAgdGhpcy4kYXhpb3MucG9zdCgnL3NjZW5pY1RpY2tldE9yZGVyL3BheScsIHNjZW5pVGlja2V0T3JkZXIpLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuY29kZSA9PT0gMjAwKSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn5pSv5LuY5oiQ5YqfJyk7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuZmV0Y2hUaWNrZXRGcmVzaERhdGEoKTsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFRpY2tldERhdGEodGhpcy50aWNrZXRRdWVyeURheXMpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pLmNhdGNoKGVycm9yID0+IHsNCiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCLmlK/ku5jplJnor6/vvJoiLCBlcnJvcik7DQogICAgICAgICAgICB9KQ0KICAgICAgICB9LA0KICAgICAgICAvLyDlpITnkIbphZLlupfmlK/ku5jnmoTmlrnms5UNCiAgICAgICAgaGFuZGxlSG90ZWxQYXkocm93KSB7DQogICAgICAgICAgICBjb25zdCBob3RlbE9yZGVySW5mbyA9IHsgaWQ6IHJvdy5pZCB9DQogICAgICAgICAgICB0aGlzLiRheGlvcy5wb3N0KCcvaG90ZWxPcmRlckluZm8vcGF5JywgaG90ZWxPcmRlckluZm8pLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuY29kZSA9PT0gMjAwKSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn5pSv5LuY5oiQ5YqfJyk7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuZmV0Y2hIb3RlbEZyZXNoRGF0YSgpOw0KICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkSG90ZWxEYXRhKHRoaXMuaG90ZWxRdWVyeURheXMpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pLmNhdGNoKGVycm9yID0+IHsNCiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCLmlK/ku5jplJnor6/vvJoiLCBlcnJvcik7DQogICAgICAgICAgICB9KQ0KICAgICAgICB9LA0KICAgICAgICAvLyDlpITnkIbpl6jnpajliKDpmaTnmoTmlrnms5UNCiAgICAgICAgaGFuZGxlVGlja2V0RGVsZXRlKHJvdykgew0KICAgICAgICAgICAgdGhpcy50aWNrZXRTZWxlY3RlZFJvd3MucHVzaChyb3cpOw0KICAgICAgICAgICAgdGhpcy5iYXRjaERlbGV0ZVRpY2tldCgpOw0KICAgICAgICB9LA0KICAgICAgICAvLyDlpITnkIbphZLlupfliKDpmaTnmoTmlrnms5UNCiAgICAgICAgaGFuZGxlSG90ZWxEZWxldGUocm93KSB7DQogICAgICAgICAgICB0aGlzLmhvdGVsU2VsZWN0ZWRSb3dzLnB1c2gocm93KTsNCiAgICAgICAgICAgIHRoaXMuYmF0Y2hEZWxldGVIb3RlbCgpOw0KICAgICAgICB9DQogICAgfSwNCn07DQo="},{"version":3,"sources":["Order.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Order.vue","sourceRoot":"src/views/user","sourcesContent":["<template>\r\n    <el-row style=\"background-color: #FFFFFF;padding: 5px 30px;border-radius: 5px;\">\r\n        <!-- 门票订单详情 -->\r\n        <el-row>\r\n            <h1 style=\"margin-inline: 20px;\">门票订单详情</h1>\r\n            <el-row style=\"padding: 10px;margin: 0 5px;\">\r\n                <el-row>\r\n                    <el-select @change=\"fetchTicketFreshData\" size=\"small\" v-model=\"scenicTicketOrderQueryDto.payStatus\"\r\n                        style=\"margin-left: 5px;\" placeholder=\"支付状态\">\r\n                        <el-option v-for=\"item in statusList\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\">\r\n                        </el-option>\r\n                    </el-select>\r\n                    <el-date-picker size=\"small\" style=\"width: 220px;margin-left: 5px;\" v-model=\"ticketSearchTime\"\r\n                        type=\"daterange\" range-separator=\"至\" start-placeholder=\"创建开始\" end-placeholder=\"创建结束\">\r\n                    </el-date-picker>\r\n                    <el-input size=\"small\" style=\"width: 0px;\">\r\n                        <el-button slot=\"append\" @click=\"fetchTicketFreshData\" icon=\"el-icon-search\"></el-button>\r\n                    </el-input>\r\n                </el-row>\r\n            </el-row>\r\n            <el-row style=\"margin: 0 15px;border-top: 1px solid rgb(245,245,245);\">\r\n                <el-table :data=\"ticketTableData\" style=\"width: 100%\">\r\n                    <el-table-column prop=\"scenicId\" sortable width=\"120\" label=\"景点ID\" v-if=\"false\"></el-table-column>\r\n                    <el-table-column prop=\"scenicName\" label=\"景点名称\"></el-table-column>\r\n                    <el-table-column prop=\"concatPerson\" width=\"120\" label=\"联系人\"></el-table-column>\r\n                    <el-table-column prop=\"concatPhone\" width=\"120\" label=\"联系电话\"></el-table-column>\r\n                    <el-table-column prop=\"buyNumber\" sortable width=\"120\" label=\"门票数\"></el-table-column>\r\n                    <el-table-column prop=\"amount\" sortable width=\"120\" label=\"金额\"></el-table-column>\r\n                    <el-table-column prop=\"payTime\" sortable width=\"168\" label=\"支付时间\"></el-table-column>\r\n                    <el-table-column prop=\"createTime\" sortable width=\"168\" label=\"创建时间\"></el-table-column>\r\n                    <el-table-column prop=\"useStatus\" width=\"98\" label=\"支付状态\">\r\n                        <template slot-scope=\"scope\">\r\n                            <i v-if=\"!scope.row.payStatus\" style=\"margin-right: 5px;\" class=\"el-icon-warning\"></i>\r\n                            <i v-else style=\"margin-right: 5px;color: rgb(253, 199, 50);\" class=\"el-icon-success\"></i>\r\n                            <el-tooltip v-if=\"!scope.row.payStatus\" class=\"item\" effect=\"dark\" content=\"未支付，不能重新下单\"\r\n                                placement=\"bottom-end\">\r\n                                <span style=\"text-decoration: underline;text-decoration-style: dashed;\">未支付</span>\r\n                            </el-tooltip>\r\n                            <span v-else>已支付</span>\r\n                        </template>\r\n                    </el-table-column>\r\n                    <el-table-column label=\"操作\" width=\"110\">\r\n                        <template slot-scope=\"scope\">\r\n                            <span class=\"text-button\" v-if=\"!scope.row.payStatus\"\r\n                                @click=\"handleTicketPay(scope.row)\">支付</span>\r\n                            <span class=\"text-button\" @click=\"handleTicketDelete(scope.row)\">删除</span>\r\n                        </template>\r\n                    </el-table-column>\r\n                </el-table>\r\n                <el-pagination style=\"margin:10px 0;\" @size-change=\"handleTicketSizeChange\"\r\n                    @current-change=\"handleTicketCurrentChange\" :current-page=\"ticketCurrentPage\" :page-sizes=\"[10, 20]\"\r\n                    :page-size=\"ticketPageSize\" layout=\"total, sizes, prev, pager, next, jumper\"\r\n                    :total=\"ticketTotalItems\"></el-pagination>\r\n            </el-row>\r\n        </el-row>\r\n        <!-- 酒店订单详情 -->\r\n        <el-row>\r\n            <h1 style=\"margin-inline: 20px;\">酒店订单详情</h1>\r\n            <el-row style=\"padding: 10px;margin: 0 5px;\">\r\n                <el-row>\r\n                    <el-select @change=\"fetchHotelFreshData\" size=\"small\" v-model=\"hotelOrderQueryDto.payStatus\"\r\n                        style=\"margin-left: 5px;\" placeholder=\"支付状态\">\r\n                        <el-option v-for=\"item in statusList\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\">\r\n                        </el-option>\r\n                    </el-select>\r\n                    <el-date-picker size=\"small\" style=\"width: 220px;margin-left: 5px;\" v-model=\"hotelSearchTime\"\r\n                        type=\"daterange\" range-separator=\"至\" start-placeholder=\"创建开始\" end-placeholder=\"创建结束\">\r\n                    </el-date-picker>\r\n                    <el-input size=\"small\" style=\"width: 0px;\">\r\n                        <el-button slot=\"append\" @click=\"fetchTicketFreshData\" icon=\"el-icon-search\"></el-button>\r\n                    </el-input>\r\n                </el-row>\r\n            </el-row>\r\n            <el-row style=\"margin: 0 15px;border-top: 1px solid rgb(245,245,245);\">\r\n                <el-table :data=\"hotelTableData\" style=\"width: 100%\">\r\n                    <el-table-column prop=\"hotelName\" label=\"酒店\"></el-table-column>\r\n                    <el-table-column prop=\"roomName\" width=\"120\" label=\"房间名\"></el-table-column>\r\n                    <el-table-column prop=\"concatPerson\" width=\"120\" label=\"联系人\"></el-table-column>\r\n                    <el-table-column prop=\"concatPhone\" width=\"120\" label=\"联系电话\"></el-table-column>\r\n                    <el-table-column prop=\"amount\" sortable width=\"120\" label=\"金额\"></el-table-column>\r\n                    <el-table-column prop=\"payTime\" sortable width=\"168\" label=\"支付时间\"></el-table-column>\r\n                    <el-table-column prop=\"createTime\" sortable width=\"168\" label=\"创建时间\"></el-table-column>\r\n                    <el-table-column prop=\"useStatus\" width=\"98\" label=\"支付状态\">\r\n                        <template slot-scope=\"scope\">\r\n                            <i v-if=\"!scope.row.payStatus\" style=\"margin-right: 5px;\" class=\"el-icon-warning\"></i>\r\n                            <i v-else style=\"margin-right: 5px;color: rgb(253, 199, 50);\" class=\"el-icon-success\"></i>\r\n                            <el-tooltip v-if=\"!scope.row.payStatus\" class=\"item\" effect=\"dark\" content=\"未支付，不能重新下单\"\r\n                                placement=\"bottom-end\">\r\n                                <span style=\"text-decoration: underline;text-decoration-style: dashed;\">未支付</span>\r\n                            </el-tooltip>\r\n                            <span v-else>已支付</span>\r\n                        </template>\r\n                    </el-table-column>\r\n                    <el-table-column label=\"操作\" width=\"110\">\r\n                        <template slot-scope=\"scope\">\r\n                            <span class=\"text-button\" v-if=\"!scope.row.payStatus\"\r\n                                @click=\"handleHotelPay(scope.row)\">支付</span>\r\n                            <span class=\"text-button\" @click=\"handleHotelDelete(scope.row)\">删除</span>\r\n                        </template>\r\n                    </el-table-column>\r\n                </el-table>\r\n                <el-pagination style=\"margin:10px 0;\" @size-change=\"handleHotelSizeChange\"\r\n                    @current-change=\"handleHotelCurrentChange\" :current-page=\"hotelCurrentPage\" :page-sizes=\"[10, 20]\"\r\n                    :page-size=\"hotelPageSize\" layout=\"total, sizes, prev, pager, next, jumper\"\r\n                    :total=\"hotelTotalItems\"></el-pagination>\r\n            </el-row>\r\n        </el-row>\r\n    </el-row>\r\n</template>\r\n\r\n<script>\r\nimport LineChart from \"@/components/LineChart\"\r\nexport default {\r\n    components: { LineChart },\r\n    data() {\r\n        return {\r\n            filterText: '',\r\n            // 门票订单相关数据\r\n            ticketCurrentPage: 1,\r\n            ticketPageSize: 10,\r\n            ticketTotalItems: 0,\r\n            ticketQueryDays: 365,\r\n            ticketTableData: [],\r\n            ticketSelectedRows: [],\r\n            scenicTicketOrderQueryDto: {},\r\n            ticketSearchTime: [],\r\n            ticketValues: [],\r\n            ticketDates: [],\r\n            // 酒店订单相关数据\r\n            hotelCurrentPage: 1,\r\n            hotelPageSize: 10,\r\n            hotelTotalItems: 0,\r\n            hotelQueryDays: 365,\r\n            hotelTableData: [],\r\n            hotelSelectedRows: [],\r\n            hotelOrderQueryDto: {},\r\n            hotelSearchTime: [],\r\n            hotelValues: [],\r\n            hotelDates: [],\r\n            statusList: [{ value: null, label: '全部' }, { value: 0, label: '未支付' }, { value: 1, label: '已支付' }],\r\n        };\r\n    },\r\n    created() {\r\n        this.fetchTicketFreshData();\r\n        this.fetchHotelFreshData();\r\n        // 数据太少，默认查365天\r\n        this.selectedTicketData(this.ticketQueryDays);\r\n        this.selectedHotelData(this.hotelQueryDays);\r\n    },\r\n    methods: {\r\n        // 请求后端的门票金额成交数据\r\n        selectedTicketData(time) {\r\n            this.$axios.get(`/scenicTicketOrder/daysQueryUser/${time}`).then(response => {\r\n                const { data } = response;\r\n                if (data.code === 200) {\r\n                    this.ticketValues = data.data.map(entity => entity.count);\r\n                    this.ticketDates = data.data.map(entity => entity.name);\r\n                }\r\n            })\r\n        },\r\n        // 请求后端的酒店金额成交数据\r\n        selectedHotelData(time) {\r\n            this.$axios.get(`/hotelOrderInfo/daysQueryUser/${time}`).then(response => {\r\n                const { data } = response;\r\n                if (data.code === 200) {\r\n                    this.hotelValues = data.data.map(entity => entity.count);\r\n                    this.hotelDates = data.data.map(entity => entity.name);\r\n                }\r\n            })\r\n        },\r\n        // 置位\r\n        cannel() {\r\n            this.data = {};\r\n            this.dialogOperation = false;\r\n            this.isOperation = false;\r\n        },\r\n        // 批量删除门票订单数据\r\n        async batchDeleteTicket() {\r\n            if (!this.ticketSelectedRows.length) {\r\n                this.$message(`未选中任何门票订单数据`);\r\n                return;\r\n            }\r\n            const confirmed = await this.$swalConfirm({\r\n                title: '删除门票订单数据',\r\n                text: `删除后不可恢复，是否继续？`,\r\n                icon: 'warning',\r\n            });\r\n            if (confirmed) {\r\n                try {\r\n                    let ids = this.ticketSelectedRows.map(entity => entity.id);\r\n                    const response = await this.$axios.post(`/scenicTicketOrder/batchDelete`, ids);\r\n                    if (response.data.code === 200) {\r\n                        this.$swal.fire({\r\n                            title: '删除提示',\r\n                            text: response.data.msg,\r\n                            icon: 'success',\r\n                            showConfirmButton: false,\r\n                            timer: 2000,\r\n                        });\r\n                        this.fetchTicketFreshData();\r\n                        return;\r\n                    }\r\n                } catch (e) {\r\n                    this.$swal.fire({\r\n                        title: '错误提示',\r\n                        text: e,\r\n                        icon: 'error',\r\n                        showConfirmButton: false,\r\n                        timer: 2000,\r\n                    });\r\n                    console.error(`门票订单信息删除异常：`, e);\r\n                }\r\n            }\r\n        },\r\n        // 批量删除酒店订单数据\r\n        async batchDeleteHotel() {\r\n            if (!this.hotelSelectedRows.length) {\r\n                this.$message(`未选中任何酒店订单数据`);\r\n                return;\r\n            }\r\n            const confirmed = await this.$swalConfirm({\r\n                title: '删除酒店订单数据',\r\n                text: `删除后不可恢复，是否继续？`,\r\n                icon: 'warning',\r\n            });\r\n            if (confirmed) {\r\n                try {\r\n                    let ids = this.hotelSelectedRows.map(entity => entity.id);\r\n                    const response = await this.$axios.post(`/hotelOrderInfo/batchDelete`, ids);\r\n                    if (response.data.code === 200) {\r\n                        this.$swal.fire({\r\n                            title: '删除提示',\r\n                            text: response.data.msg,\r\n                            icon: 'success',\r\n                            showConfirmButton: false,\r\n                            timer: 2000,\r\n                        });\r\n                        this.fetchHotelFreshData();\r\n                        return;\r\n                    }\r\n                } catch (e) {\r\n                    this.$swal.fire({\r\n                        title: '错误提示',\r\n                        text: e,\r\n                        icon: 'error',\r\n                        showConfirmButton: false,\r\n                        timer: 2000,\r\n                    });\r\n                    console.error(`酒店订单信息删除异常：`, e);\r\n                }\r\n            }\r\n        },\r\n        // 刷新门票订单数据\r\n        async fetchTicketFreshData() {\r\n            try {\r\n                let startTime = null;\r\n                let endTime = null;\r\n                if (this.ticketSearchTime != null && this.ticketSearchTime.length === 2) {\r\n                    const [startDate, endDate] = await Promise.all(this.ticketSearchTime.map(date => date.toISOString()));\r\n                    startTime = `${startDate.split('T')[0]}T00:00:00`;\r\n                    endTime = `${endDate.split('T')[0]}T23:59:59`;\r\n                }\r\n                // 请求参数\r\n                const params = {\r\n                    current: this.ticketCurrentPage,\r\n                    size: this.ticketPageSize,\r\n                    key: this.filterText,\r\n                    startTime: startTime,\r\n                    endTime: endTime,\r\n                    ...this.scenicTicketOrderQueryDto\r\n                };\r\n                const response = await this.$axios.post('/scenicTicketOrder/queryUser', params);\r\n                const { data } = response;\r\n                this.ticketTableData = data.data;\r\n                this.ticketTotalItems = data.total;\r\n            } catch (error) {\r\n                console.error('查询门票订单信息异常:', error);\r\n            }\r\n        },\r\n        // 刷新酒店订单数据\r\n        async fetchHotelFreshData() {\r\n            try {\r\n                let startTime = null;\r\n                let endTime = null;\r\n                if (this.hotelSearchTime != null && this.hotelSearchTime.length === 2) {\r\n                    const [startDate, endDate] = await Promise.all(this.hotelSearchTime.map(date => date.toISOString()));\r\n                    startTime = `${startDate.split('T')[0]}T00:00:00`;\r\n                    endTime = `${endDate.split('T')[0]}T23:59:59`;\r\n                }\r\n                // 请求参数\r\n                const params = {\r\n                    current: this.hotelCurrentPage,\r\n                    size: this.hotelPageSize,\r\n                    key: this.filterText,\r\n                    startTime: startTime,\r\n                    endTime: endTime,\r\n                    ...this.hotelOrderQueryDto\r\n                };\r\n                const response = await this.$axios.post('/hotelOrderInfo/queryUser', params);\r\n                const { data } = response;\r\n                this.hotelTableData = data.data;\r\n                this.hotelTotalItems = data.total;\r\n            } catch (error) {\r\n                console.error('查询酒店订单信息异常:', error);\r\n            }\r\n        },\r\n        add() {\r\n            this.dialogOperation = true;\r\n        },\r\n        handleTicketFilter() {\r\n            this.ticketCurrentPage = 1;\r\n            this.fetchTicketFreshData();\r\n        },\r\n        handleTicketFilterClear() {\r\n            this.filterText = '';\r\n            this.handleTicketFilter();\r\n        },\r\n        handleHotelFilter() {\r\n            this.hotelCurrentPage = 1;\r\n            this.fetchHotelFreshData();\r\n        },\r\n        handleHotelFilterClear() {\r\n            this.filterText = '';\r\n            this.handleHotelFilter();\r\n        },\r\n        handleTicketSizeChange(val) {\r\n            this.ticketPageSize = val;\r\n            this.ticketCurrentPage = 1;\r\n            this.fetchTicketFreshData();\r\n        },\r\n        handleTicketCurrentChange(val) {\r\n            this.ticketCurrentPage = val;\r\n            this.fetchTicketFreshData();\r\n        },\r\n        handleHotelSizeChange(val) {\r\n            this.hotelPageSize = val;\r\n            this.hotelCurrentPage = 1;\r\n            this.fetchHotelFreshData();\r\n        },\r\n        handleHotelCurrentChange(val) {\r\n            this.hotelCurrentPage = val;\r\n            this.fetchHotelFreshData();\r\n        },\r\n        // 处理门票支付的方法\r\n        handleTicketPay(row) {\r\n            const sceniTicketOrder = { id: row.id }\r\n            this.$axios.post('/scenicTicketOrder/pay', sceniTicketOrder).then(res => {\r\n                if (res.data.code === 200) {\r\n                    this.$message.success('支付成功');\r\n                    this.fetchTicketFreshData();\r\n                    this.selectedTicketData(this.ticketQueryDays);\r\n                }\r\n            }).catch(error => {\r\n                console.error(\"支付错误：\", error);\r\n            })\r\n        },\r\n        // 处理酒店支付的方法\r\n        handleHotelPay(row) {\r\n            const hotelOrderInfo = { id: row.id }\r\n            this.$axios.post('/hotelOrderInfo/pay', hotelOrderInfo).then(res => {\r\n                if (res.data.code === 200) {\r\n                    this.$message.success('支付成功');\r\n                    this.fetchHotelFreshData();\r\n                    this.selectedHotelData(this.hotelQueryDays);\r\n                }\r\n            }).catch(error => {\r\n                console.error(\"支付错误：\", error);\r\n            })\r\n        },\r\n        // 处理门票删除的方法\r\n        handleTicketDelete(row) {\r\n            this.ticketSelectedRows.push(row);\r\n            this.batchDeleteTicket();\r\n        },\r\n        // 处理酒店删除的方法\r\n        handleHotelDelete(row) {\r\n            this.hotelSelectedRows.push(row);\r\n            this.batchDeleteHotel();\r\n        }\r\n    },\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\"></style>    "]}]}