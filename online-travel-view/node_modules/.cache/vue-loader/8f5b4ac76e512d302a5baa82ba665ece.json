{"remainingRequest":"D:\\毕业设计\\Online-Travel\\online-travel-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\毕业设计\\Online-Travel\\online-travel-view\\src\\views\\user\\ScenicVendor.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\毕业设计\\Online-Travel\\online-travel-view\\src\\views\\user\\ScenicVendor.vue","mtime":1743931232753},{"path":"D:\\毕业设计\\Online-Travel\\online-travel-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\毕业设计\\Online-Travel\\online-travel-view\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\毕业设计\\Online-Travel\\online-travel-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\毕业设计\\Online-Travel\\online-travel-view\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgRWRpdG9yIGZyb20gIkAvY29tcG9uZW50cy9FZGl0b3IiDQpleHBvcnQgZGVmYXVsdCB7DQogICAgY29tcG9uZW50czogeyBFZGl0b3IgfSwNCiAgICBkYXRhKCkgew0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgc2NlbmljTGluZToge30sDQogICAgICAgICAgICBkYXRhOiB7fSwNCiAgICAgICAgICAgIGZpbHRlclRleHQ6ICcnLA0KICAgICAgICAgICAgY292ZXI6ICcnLA0KICAgICAgICAgICAgY3VycmVudFBhZ2U6IDEsDQogICAgICAgICAgICBkcmF3ZXI6IGZhbHNlLCAvLyDmjqfliLbmma/ngrnot6/nur/nmoTmir3lsYnlvIDlhbMNCiAgICAgICAgICAgIGRpcmVjdGlvbjogJ3J0bCcsIC8vIHJpZ2h0IHRvIGxlZnQNCiAgICAgICAgICAgIHBhZ2VTaXplOiAxMCwNCiAgICAgICAgICAgIHRvdGFsSXRlbXM6IDAsDQogICAgICAgICAgICBkaWFsb2dMaW5lT3BlcmF0aW9uOiBmYWxzZSwgLy8g5pmv54K56Lev57q/5by556qX56Gu6K6kDQogICAgICAgICAgICBpc0xpbmVPcGVyYXRpb246IGZhbHNlLCAvLyDmma/ngrnot6/nur/mk43kvZzml7bmmL7npLrmlofmnKzlvIDlhbMNCiAgICAgICAgICAgIGRpYWxvZ09wZXJhdGlvbjogZmFsc2UsIC8vIOW8gOWFsw0KICAgICAgICAgICAgaXNPcGVyYXRpb246IGZhbHNlLCAvLyDlvIDlhbMt5qCH6K+G5paw5aKe5oiW5L+u5pS5DQogICAgICAgICAgICB0YWJsZURhdGE6IFtdLA0KICAgICAgICAgICAgc2VsZWN0ZWRSb3dzOiBbXSwNCiAgICAgICAgICAgIHNjZW5pY1F1ZXJ5RHRvOiB7fSwgLy8g5pCc57Si5p2h5Lu2DQogICAgICAgICAgICBjYXRlZ29yaWVzOiBbXSwNCiAgICAgICAgICAgIHNlYXJjaFRpbWU6IFtdLA0KICAgICAgICAgICAgc2NlbmljTGluZXM6IFtdLA0KICAgICAgICAgICAgdXNlcnM6IFtdLA0KICAgICAgICAgICAgaXNBdWRpdExpc3Q6IFt7IHZhbHVlOiBudWxsLCBsYWJlbDogJ+WFqOmDqCcgfSwgeyB2YWx1ZTogMCwgbGFiZWw6ICfmnKrlrqHmoLgnIH0sIHsgdmFsdWU6IDEsIGxhYmVsOiAn5bey5a6h5qC4JyB9XSwNCiAgICAgICAgICAgIHN0YXR1c0xpc3Q6IFt7IHZhbHVlOiBudWxsLCBsYWJlbDogJ+WFqOmDqCcgfSwgeyB2YWx1ZTogMCwgbGFiZWw6ICfkuI3lj6/nlKgnIH0sIHsgdmFsdWU6IDEsIGxhYmVsOiAn5Y+v55SoJyB9XSwNCiAgICAgICAgfTsNCiAgICB9LA0KICAgIGNyZWF0ZWQoKSB7DQogICAgICAgIHRoaXMuZmV0Y2hGcmVzaERhdGEoKTsNCiAgICAgICAgdGhpcy5mZXRjaFVzZXJzKCk7DQogICAgICAgIHRoaXMuZmV0Y2hDYXRlZ29yaWVzKCk7DQogICAgfSwNCiAgICBtZXRob2RzOiB7DQogICAgICAgIG9uUmVjZWl2ZShjb250ZW50KXsNCiAgICAgICAgICAgIHRoaXMuZGF0YS5kZXRhaWwgPSBjb250ZW50Ow0KICAgICAgICB9LA0KICAgICAgICAvLyDkv67mlLnmma/ngrnkv6Hmga8NCiAgICAgICAgdXBkYXRlTGluZShzY2VuaWNMaW5lKSB7DQogICAgICAgICAgICB0aGlzLmRpYWxvZ0xpbmVPcGVyYXRpb24gPSB0cnVlOw0KICAgICAgICAgICAgdGhpcy5pc0xpbmVPcGVyYXRpb24gPSB0cnVlOw0KICAgICAgICAgICAgdGhpcy5jb3ZlciA9IHNjZW5pY0xpbmUuY292ZXI7DQogICAgICAgICAgICB0aGlzLnNjZW5pY0xpbmUgPSBzY2VuaWNMaW5lOw0KICAgICAgICB9LA0KICAgICAgICAvLyDliKDpmaTmma/ngrnkv6Hmga8NCiAgICAgICAgZGVsZXRlTGluZShzY2VuaWNMaW5lKSB7DQogICAgICAgICAgICB0aGlzLiRjb25maXJtKCfmraTmk43kvZzlsIbliKDpmaTor6Xmma/ljLrot6/nur8sIOaYr+WQpue7p+e7rT8nLCAn5pON5L2c5o+Q56S6Jywgew0KICAgICAgICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywNCiAgICAgICAgICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywNCiAgICAgICAgICAgICAgICB0eXBlOiAnd2FybmluZycNCiAgICAgICAgICAgIH0pLnRoZW4oKCkgPT4gew0KICAgICAgICAgICAgICAgIGxldCBpZHMgPSBbc2NlbmljTGluZS5pZF07DQogICAgICAgICAgICAgICAgdGhpcy4kYXhpb3MucG9zdChgL3NjZW5pY0xpbmUvYmF0Y2hEZWxldGVgLCBpZHMpLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLmNvZGUgPT09IDIwMCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCfmma/ngrnot6/nur/liKDpmaTmiJDlip8nKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZmV0Y2hTY2VuaWNMaW5lcyh0aGlzLmRhdGEuaWQpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIH0pLmNhdGNoKCgpID0+IHsNCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygi5pON5L2c5Y+W5raIIik7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgfSwNCiAgICAgICAgY2FubmVsTGluZSgpIHsNCiAgICAgICAgICAgIHRoaXMuc2NlbmljTGluZSA9IHt9Ow0KICAgICAgICAgICAgdGhpcy5kaWFsb2dMaW5lT3BlcmF0aW9uID0gZmFsc2U7DQogICAgICAgICAgICB0aGlzLmlzTGluZU9wZXJhdGlvbiA9IGZhbHNlOw0KICAgICAgICAgICAgdGhpcy5jb3ZlciA9ICcnOw0KICAgICAgICB9LA0KICAgICAgICBhZGRMaW5lKCkgew0KICAgICAgICAgICAgdGhpcy5kaWFsb2dMaW5lT3BlcmF0aW9uID0gdHJ1ZTsNCiAgICAgICAgfSwNCiAgICAgICAgc2NlbmljTGluZUhhbmRsZShzY2VuaWMpIHsNCiAgICAgICAgICAgIHRoaXMuZGF0YSA9IHNjZW5pYzsNCiAgICAgICAgICAgIHRoaXMuc2NlbmljTGluZS5zY2VuaWNJZCA9IHNjZW5pYy5pZDsNCiAgICAgICAgICAgIHRoaXMuZmV0Y2hTY2VuaWNMaW5lcyhzY2VuaWMuaWQpOw0KICAgICAgICB9LA0KICAgICAgICAvLyDor7fmsYLmma/ngrnot6/nur/kv6Hmga8NCiAgICAgICAgZmV0Y2hTY2VuaWNMaW5lcyhzY2VuaWNJZCkgew0KICAgICAgICAgICAgY29uc3Qgc2NlbmljTGluZVF1ZXJ5RHRvID0geyBzY2VuaWNJZDogc2NlbmljSWQgfQ0KICAgICAgICAgICAgdGhpcy4kYXhpb3MucG9zdCgnL3NjZW5pY0xpbmUvcXVlcnknLCBzY2VuaWNMaW5lUXVlcnlEdG8pLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuY29kZSA9PT0gMjAwKSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuc2NlbmljTGluZXMgPSByZXMuZGF0YS5kYXRhOw0KICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYXdlciA9IHRydWU7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSkuY2F0Y2goZXJyb3IgPT4gew0KICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+afpeivouaZr+eCuei3r+e6v+S/oeaBr+W8guW4uCcpOw0KICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoIuafpeivouaZr+eCuei3r+e6v+S/oeaBr+W8guW4uO+8miIsIGVycm9yKTsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICB9LA0KICAgICAgICAvLyDlsIHpnaLkuIrkvKANCiAgICAgICAgaGFuZGxlQ292ZXJTdWNjZXNzKHJlcywgZmlsZSkgew0KICAgICAgICAgICAgdGhpcy4kbm90aWZ5KHsNCiAgICAgICAgICAgICAgICBkdXJhdGlvbjogMTUwMCwNCiAgICAgICAgICAgICAgICB0aXRsZTogJ+WwgemdouS4iuS8oCcsDQogICAgICAgICAgICAgICAgbWVzc2FnZTogcmVzLmNvZGUgPT09IDIwMCA/ICfkuIrkvKDmiJDlip8nIDogJ+S4iuS8oOWksei0pScsDQogICAgICAgICAgICAgICAgdHlwZTogcmVzLmNvZGUgPT09IDIwMCA/ICdzdWNjZXNzJyA6ICdlcnJvcicNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgLy8g5LiK5Lyg5oiQ5Yqf5YiZ5pu05paw5bCB6Z2iDQogICAgICAgICAgICBpZiAocmVzLmNvZGUgPT09IDIwMCkgew0KICAgICAgICAgICAgICAgIHRoaXMuY292ZXIgPSByZXMuZGF0YTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgLy8g6I635Y+W5pmv54K55YiG57G7DQogICAgICAgIGZldGNoQ2F0ZWdvcmllcygpIHsNCiAgICAgICAgICAgIHRoaXMuJGF4aW9zLnBvc3QoJy9zY2VuaWNDYXRlZ29yeS9xdWVyeScsIHt9KS50aGVuKHJlcyA9PiB7DQogICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLmNvZGUgPT09IDIwMCkgew0KICAgICAgICAgICAgICAgICAgICB0aGlzLmNhdGVnb3JpZXMgPSByZXMuZGF0YS5kYXRhOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pLmNhdGNoKGVycm9yID0+IHsNCiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCLmn6Xor6Lmma/ngrnliIbnsbvkv6Hmga/lvILluLjvvJoiLCBlcnJvcik7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgfSwNCiAgICAgICAgLy8g6I635Y+W5L6b5bqU5ZWG5L+h5oGvDQogICAgICAgIGZldGNoVXNlcnMoKSB7DQogICAgICAgICAgICB0aGlzLiRheGlvcy5wb3N0KCcvdmVuZG9yL3F1ZXJ5Jywge30pLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuY29kZSA9PT0gMjAwKSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMudXNlcnMgPSByZXMuZGF0YS5kYXRhOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pLmNhdGNoKGVycm9yID0+IHsNCiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCLmn6Xor6LkvpvlupTllYbkv6Hmga/lvILluLjvvJoiLCBlcnJvcik7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgfSwNCiAgICAgICAgLy8g572u5L2NDQogICAgICAgIGNhbm5lbCgpIHsNCiAgICAgICAgICAgIHRoaXMuZGF0YSA9IHt9Ow0KICAgICAgICAgICAgdGhpcy5jb3ZlciA9ICcnOw0KICAgICAgICAgICAgdGhpcy5kaWFsb2dPcGVyYXRpb24gPSBmYWxzZTsNCiAgICAgICAgICAgIHRoaXMuaXNPcGVyYXRpb24gPSBmYWxzZTsNCiAgICAgICAgfSwNCiAgICAgICAgLy8g5om56YeP5Yig6Zmk5pWw5o2uDQogICAgICAgIGFzeW5jIGJhdGNoRGVsZXRlKCkgew0KICAgICAgICAgICAgaWYgKCF0aGlzLnNlbGVjdGVkUm93cy5sZW5ndGgpIHsNCiAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlKGDmnKrpgInkuK3ku7vkvZXmlbDmja5gKTsNCiAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICB9DQogICAgICAgICAgICBjb25zdCBjb25maXJtZWQgPSBhd2FpdCB0aGlzLiRzd2FsQ29uZmlybSh7DQogICAgICAgICAgICAgICAgdGl0bGU6ICfliKDpmaTmma/ngrnmlbDmja4nLA0KICAgICAgICAgICAgICAgIHRleHQ6IGDliKDpmaTlkI7kuI3lj6/mgaLlpI3vvIzmmK/lkKbnu6fnu63vvJ9gLA0KICAgICAgICAgICAgICAgIGljb246ICd3YXJuaW5nJywNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgaWYgKGNvbmZpcm1lZCkgew0KICAgICAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgICAgIGxldCBpZHMgPSB0aGlzLnNlbGVjdGVkUm93cy5tYXAoZW50aXR5ID0+IGVudGl0eS5pZCk7DQogICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy4kYXhpb3MucG9zdChgL3NjZW5pYy9iYXRjaERlbGV0ZWAsIGlkcyk7DQogICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmNvZGUgPT09IDIwMCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kc3dhbC5maXJlKHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ+WIoOmZpOaPkOekuicsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogcmVzcG9uc2UuZGF0YS5tc2csDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogJ3N1Y2Nlc3MnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lcjogMjAwMCwNCiAgICAgICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mZXRjaEZyZXNoRGF0YSgpOw0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkgew0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRzd2FsLmZpcmUoew0KICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfplJnor6/mj5DnpLonLA0KICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogZSwNCiAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICdlcnJvcicsDQogICAgICAgICAgICAgICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsDQogICAgICAgICAgICAgICAgICAgICAgICB0aW1lcjogMjAwMCwNCiAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYOaZr+eCueS/oeaBr+WIoOmZpOW8guW4uO+8mmAsIGUpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgLy8g5L+u5pS56Lev57q/5L+h5oGvDQogICAgICAgIGFzeW5jIHVwZGF0ZUxpbmVPcGVyYXRpb24oKSB7DQogICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgIHRoaXMuc2NlbmljTGluZS5jb3ZlciA9IHRoaXMuY292ZXI7DQogICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLiRheGlvcy5wdXQoJy9zY2VuaWNMaW5lL3VwZGF0ZScsIHRoaXMuc2NlbmljTGluZSk7DQogICAgICAgICAgICAgICAgdGhpcy4kc3dhbC5maXJlKHsNCiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfmma/ngrnot6/nur/kv6Hmga/kv67mlLknLA0KICAgICAgICAgICAgICAgICAgICB0ZXh0OiByZXNwb25zZS5kYXRhLm1zZywNCiAgICAgICAgICAgICAgICAgICAgaWNvbjogcmVzcG9uc2UuZGF0YS5jb2RlID09PSAyMDAgPyAnc3VjY2VzcycgOiAnZXJyb3InLA0KICAgICAgICAgICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsDQogICAgICAgICAgICAgICAgICAgIHRpbWVyOiAxMDAwLA0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmNvZGUgPT09IDIwMCkgew0KICAgICAgICAgICAgICAgICAgICB0aGlzLmZldGNoU2NlbmljTGluZXModGhpcy5kYXRhLmlkKTsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW5uZWxMaW5lKCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsNCiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCfmj5DkuqTooajljZXml7blh7rplJk6JywgZXJyb3IpOw0KICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+aPkOS6pOWksei0pe+8jOivt+eojeWQjuWGjeivle+8gScpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICAvLyDkv67mlLnkv6Hmga8NCiAgICAgICAgYXN5bmMgdXBkYXRlT3BlcmF0aW9uKCkgew0KICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgICB0aGlzLmRhdGEuY292ZXIgPSB0aGlzLmNvdmVyOw0KICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy4kYXhpb3MucHV0KCcvc2NlbmljL3VwZGF0ZScsIHRoaXMuZGF0YSk7DQogICAgICAgICAgICAgICAgdGhpcy5jbGVhckZvcm1EYXRhKCk7DQogICAgICAgICAgICAgICAgdGhpcy4kc3dhbC5maXJlKHsNCiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfmma/ngrnkv6Hmga/kv67mlLknLA0KICAgICAgICAgICAgICAgICAgICB0ZXh0OiByZXNwb25zZS5kYXRhLm1zZywNCiAgICAgICAgICAgICAgICAgICAgaWNvbjogcmVzcG9uc2UuZGF0YS5jb2RlID09PSAyMDAgPyAnc3VjY2VzcycgOiAnZXJyb3InLA0KICAgICAgICAgICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsDQogICAgICAgICAgICAgICAgICAgIHRpbWVyOiAxMDAwLA0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmNvZGUgPT09IDIwMCkgew0KICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbm5lbCgpOw0KICAgICAgICAgICAgICAgICAgICB0aGlzLmZldGNoRnJlc2hEYXRhKHRoaXMuZGF0YSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsNCiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCfmj5DkuqTooajljZXml7blh7rplJk6JywgZXJyb3IpOw0KICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+aPkOS6pOWksei0pe+8jOivt+eojeWQjuWGjeivle+8gScpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICAvLyDkv6Hmga/mlrDlop4NCiAgICAgICAgYXN5bmMgYWRkTGluZU9wZXJhdGlvbigpIHsNCiAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgdGhpcy5zY2VuaWNMaW5lLnNjZW5pY0lkID0gdGhpcy5kYXRhLmlkOw0KICAgICAgICAgICAgICAgIHRoaXMuc2NlbmljTGluZS5jb3ZlciA9IHRoaXMuY292ZXI7DQogICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLiRheGlvcy5wb3N0KCcvc2NlbmljTGluZS9zYXZlJywgdGhpcy5zY2VuaWNMaW5lKTsNCiAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlW3Jlc3BvbnNlLmRhdGEuY29kZSA9PT0gMjAwID8gJ3N1Y2Nlc3MnIDogJ2Vycm9yJ10ocmVzcG9uc2UuZGF0YS5tc2cpOw0KICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmNvZGUgPT09IDIwMCkgew0KICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbm5lbExpbmUoKTsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5mZXRjaFNjZW5pY0xpbmVzKHRoaXMuZGF0YS5pZCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsNCiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCfmj5DkuqTooajljZXml7blh7rplJk6JywgZXJyb3IpOw0KICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+aPkOS6pOWksei0pe+8jOivt+eojeWQjuWGjeivle+8gScpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICAvLyDkv6Hmga/mlrDlop4NCiAgICAgICAgYXN5bmMgYWRkT3BlcmF0aW9uKCkgew0KICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgICB0aGlzLmRhdGEuY292ZXIgPSB0aGlzLmNvdmVyOw0KICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy4kYXhpb3MucG9zdCgnL3NjZW5pYy9zYXZlJywgdGhpcy5kYXRhKTsNCiAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlW3Jlc3BvbnNlLmRhdGEuY29kZSA9PT0gMjAwID8gJ3N1Y2Nlc3MnIDogJ2Vycm9yJ10ocmVzcG9uc2UuZGF0YS5tc2cpOw0KICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmNvZGUgPT09IDIwMCkgew0KICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbm5lbCgpOw0KICAgICAgICAgICAgICAgICAgICB0aGlzLmZldGNoRnJlc2hEYXRhKCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsNCiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCfmj5DkuqTooajljZXml7blh7rplJk6JywgZXJyb3IpOw0KICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+aPkOS6pOWksei0pe+8jOivt+eojeWQjuWGjeivle+8gScpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICBjbGVhckZvcm1EYXRhKCkgew0KICAgICAgICAgICAgdGhpcy5kYXRhID0ge307DQogICAgICAgIH0sDQogICAgICAgIGFzeW5jIGZldGNoRnJlc2hEYXRhKCkgew0KICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgICBsZXQgc3RhcnRUaW1lID0gbnVsbDsNCiAgICAgICAgICAgICAgICBsZXQgZW5kVGltZSA9IG51bGw7DQogICAgICAgICAgICAgICAgaWYgKHRoaXMuc2VhcmNoVGltZSAhPSBudWxsICYmIHRoaXMuc2VhcmNoVGltZS5sZW5ndGggPT09IDIpIHsNCiAgICAgICAgICAgICAgICAgICAgY29uc3QgW3N0YXJ0RGF0ZSwgZW5kRGF0ZV0gPSBhd2FpdCBQcm9taXNlLmFsbCh0aGlzLnNlYXJjaFRpbWUubWFwKGRhdGUgPT4gZGF0ZS50b0lTT1N0cmluZygpKSk7DQogICAgICAgICAgICAgICAgICAgIHN0YXJ0VGltZSA9IGAke3N0YXJ0RGF0ZS5zcGxpdCgnVCcpWzBdfVQwMDowMDowMGA7DQogICAgICAgICAgICAgICAgICAgIGVuZFRpbWUgPSBgJHtlbmREYXRlLnNwbGl0KCdUJylbMF19VDIzOjU5OjU5YDsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgLy8g6K+35rGC5Y+C5pWwDQogICAgICAgICAgICAgICAgY29uc3QgcGFyYW1zID0gew0KICAgICAgICAgICAgICAgICAgICBjdXJyZW50OiB0aGlzLmN1cnJlbnRQYWdlLA0KICAgICAgICAgICAgICAgICAgICBzaXplOiB0aGlzLnBhZ2VTaXplLA0KICAgICAgICAgICAgICAgICAgICBrZXk6IHRoaXMuZmlsdGVyVGV4dCwNCiAgICAgICAgICAgICAgICAgICAgc3RhcnRUaW1lOiBzdGFydFRpbWUsDQogICAgICAgICAgICAgICAgICAgIGVuZFRpbWU6IGVuZFRpbWUsDQogICAgICAgICAgICAgICAgICAgIC4uLnRoaXMuc2NlbmljUXVlcnlEdG8NCiAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy4kYXhpb3MucG9zdCgnL3NjZW5pYy9xdWVyeVZlbmRvclNjZW5pYycsIHBhcmFtcyk7DQogICAgICAgICAgICAgICAgY29uc3QgeyBkYXRhIH0gPSByZXNwb25zZTsNCiAgICAgICAgICAgICAgICB0aGlzLnRhYmxlRGF0YSA9IGRhdGEuZGF0YTsNCiAgICAgICAgICAgICAgICB0aGlzLnRvdGFsSXRlbXMgPSBkYXRhLnRvdGFsOw0KICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsNCiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCfmn6Xor6Lmma/ngrnkv6Hmga/lvILluLg6JywgZXJyb3IpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICBhZGQoKSB7DQogICAgICAgICAgICB0aGlzLmRpYWxvZ09wZXJhdGlvbiA9IHRydWU7DQogICAgICAgIH0sDQogICAgICAgIGhhbmRsZUZpbHRlcigpIHsNCiAgICAgICAgICAgIHRoaXMuY3VycmVudFBhZ2UgPSAxOw0KICAgICAgICAgICAgdGhpcy5mZXRjaEZyZXNoRGF0YSgpOw0KICAgICAgICB9LA0KICAgICAgICBoYW5kbGVGaWx0ZXJDbGVhcigpIHsNCiAgICAgICAgICAgIHRoaXMuZmlsdGVyVGV4dCA9ICcnOw0KICAgICAgICAgICAgdGhpcy5oYW5kbGVGaWx0ZXIoKTsNCiAgICAgICAgfSwNCiAgICAgICAgaGFuZGxlU2l6ZUNoYW5nZSh2YWwpIHsNCiAgICAgICAgICAgIHRoaXMucGFnZVNpemUgPSB2YWw7DQogICAgICAgICAgICB0aGlzLmN1cnJlbnRQYWdlID0gMTsNCiAgICAgICAgICAgIHRoaXMuZmV0Y2hGcmVzaERhdGEoKTsNCiAgICAgICAgfSwNCiAgICAgICAgaGFuZGxlQ3VycmVudENoYW5nZSh2YWwpIHsNCiAgICAgICAgICAgIHRoaXMuY3VycmVudFBhZ2UgPSB2YWw7DQogICAgICAgICAgICB0aGlzLmZldGNoRnJlc2hEYXRhKCk7DQogICAgICAgIH0sDQogICAgICAgIGhhbmRsZUVkaXQocm93KSB7DQogICAgICAgICAgICB0aGlzLmNvdmVyID0gcm93LmNvdmVyOw0KICAgICAgICAgICAgdGhpcy5kaWFsb2dPcGVyYXRpb24gPSB0cnVlOw0KICAgICAgICAgICAgdGhpcy5pc09wZXJhdGlvbiA9IHRydWU7DQogICAgICAgICAgICB0aGlzLmRhdGEgPSB7IC4uLnJvdyB9DQogICAgICAgIH0sDQogICAgICAgIGhhbmRsZURlbGV0ZShyb3cpIHsNCiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRSb3dzLnB1c2gocm93KTsNCiAgICAgICAgICAgIHRoaXMuYmF0Y2hEZWxldGUoKTsNCiAgICAgICAgfQ0KICAgIH0sDQp9Ow0K"},{"version":3,"sources":["ScenicVendor.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ScenicVendor.vue","sourceRoot":"src/views/user","sourcesContent":["<template>\r\n    <el-row style=\"background-color: #FFFFFF;padding: 5px 0;border-radius: 5px;\">\r\n        <el-row style=\"padding: 10px 5px;margin: 0 5px;\">\r\n            <el-row>\r\n                <el-select @change=\"fetchFreshData\" size=\"small\" v-model=\"scenicQueryDto.categoryId\" clearable\r\n                    style=\"margin-left: 5px;\" placeholder=\"所属类别\">\r\n                    <el-option v-for=\"item in categories\" :key=\"item.id\" :label=\"item.name\" :value=\"item.id\">\r\n                    </el-option>\r\n                </el-select>\r\n                <el-select @change=\"fetchFreshData\" size=\"small\" v-model=\"scenicQueryDto.status\" clearable\r\n                    style=\"margin-left: 5px;\" placeholder=\"景点状态\">\r\n                    <el-option v-for=\"item in statusList\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\">\r\n                    </el-option>\r\n                </el-select>\r\n                <el-date-picker size=\"small\" style=\"width: 220px;margin-left: 5px;\" v-model=\"searchTime\"\r\n                    type=\"daterange\" range-separator=\"至\" start-placeholder=\"创建开始\" end-placeholder=\"创建结束\">\r\n                </el-date-picker>\r\n                <el-input size=\"small\" style=\"width: 188px;margin-left: 5px;margin-right: 6px;\"\r\n                    v-model=\"scenicQueryDto.name\" placeholder=\"景点名\" clearable @clear=\"handleFilterClear\">\r\n                    <el-button slot=\"append\" @click=\"handleFilter\" icon=\"el-icon-search\"></el-button>\r\n                </el-input>\r\n                <span style=\"float: right;\">\r\n                    <el-button size=\"small\"\r\n                        style=\"background-color: rgb(96, 98, 102);color: rgb(247,248,249);border: none;\"\r\n                        class=\"customer\" type=\"info\" @click=\"add()\"><i class=\"el-icon-plus\"></i>新增景点</el-button>\r\n                </span>\r\n            </el-row>\r\n        </el-row>\r\n        <el-row style=\"margin: 0 15px;border-top: 1px solid rgb(245,245,245);\">\r\n            <el-table :data=\"tableData\" style=\"width: 100%\">\r\n                <el-table-column prop=\"cover\" label=\"景区封面\" width=\"120px\">\r\n                    <template slot-scope=\"scope\">\r\n                        <img :src=\"scope.row.cover\" style=\"width: 88px;height: 55px;border-radius: 5px;\" />\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column prop=\"name\" label=\"景点名\"></el-table-column>\r\n                <el-table-column prop=\"address\" label=\"所在地\" width=\"300px\"></el-table-column>\r\n                <el-table-column prop=\"categoryName\" label=\"所属分类\" width=\"150px\"></el-table-column>\r\n                <el-table-column prop=\"vendorName\" label=\"供应商\" width=\"150px\"></el-table-column>\r\n                <el-table-column prop=\"ratingScore\" label=\"评分\" width=\"100px\">\r\n                    <template slot-scope=\"scope\">\r\n                        <span>{{ scope.row.ratingScore === null ? 0 : scope.row.ratingScore }}</span>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column prop=\"createTime\" sortable width=\"168\" label=\"创建时间\"></el-table-column>\r\n                <el-table-column prop=\"isWord\" width=\"108\" label=\"状态\">\r\n                    <template slot-scope=\"scope\">\r\n                        <i v-if=\"!scope.row.status\" style=\"margin-right: 5px;\" class=\"el-icon-warning\"></i>\r\n                        <i v-else style=\"margin-right: 5px;color: rgb(253, 199, 50);\" class=\"el-icon-success\"></i>\r\n                        <el-tooltip v-if=\"scope.row.status\" class=\"item\" effect=\"dark\" content=\"如果是不可用状态，暂停景点服务\"\r\n                            placement=\"bottom-end\">\r\n                            <span style=\"text-decoration: underline;text-decoration-style: dashed;\">可用</span>\r\n                        </el-tooltip>\r\n                        <span v-else>不可用</span>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column label=\"操作\" width=\"180\">\r\n                    <template slot-scope=\"scope\">\r\n                        <span class=\"text-button\" @click=\"scenicLineHandle(scope.row)\">景点路线</span>\r\n                        <span class=\"text-button\" @click=\"handleEdit(scope.row)\">编辑</span>\r\n                        <span class=\"text-button\" @click=\"handleDelete(scope.row)\">删除</span>\r\n                    </template>\r\n                </el-table-column>\r\n            </el-table>\r\n            <el-pagination style=\"margin:10px 0;\" @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\"\r\n                :current-page=\"currentPage\" :page-sizes=\"[10, 20]\" :page-size=\"pageSize\"\r\n                layout=\"total, sizes, prev, pager, next, jumper\" :total=\"totalItems\"></el-pagination>\r\n        </el-row>\r\n        <!-- 操作面板 -->\r\n        <el-dialog :show-close=\"false\" :visible.sync=\"dialogOperation\" width=\"45%\">\r\n            <div slot=\"title\">\r\n                <p class=\"dialog-title\">{{ !isOperation ? '新增景点' : '修改景点信息' }}</p>\r\n            </div>\r\n            <div style=\"padding:0 20px;\">\r\n                <el-row>\r\n                    <span class=\"dialog-hover\">景点封面</span>\r\n                    <el-upload class=\"avatar-uploader\" action=\"/api/online-travel-sys/v1.0/file/upload\"\r\n                        :show-file-list=\"false\" :on-success=\"handleCoverSuccess\">\r\n                        <img v-if=\"cover\" :src=\"cover\" style=\"width: 250px;height: 150px;\">\r\n                        <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n                    </el-upload>\r\n                </el-row>\r\n                <el-row style=\"margin-bottom: 20px;\">\r\n                    <span class=\"dialog-hover\">景点名称</span>\r\n                    <input class=\"dialog-input\" v-model=\"data.name\" placeholder=\"请输入\" />\r\n                    <span class=\"dialog-hover\">景点所在地址</span>\r\n                    <input class=\"dialog-input\" v-model=\"data.address\" placeholder=\"请输入\" />\r\n                    <div>\r\n                        <div>\r\n                            <span class=\"dialog-hover\">景点详情</span>\r\n                        </div>\r\n                        <Editor height=\"300px\" :reveiveContent=\"data.detail\" @on-receive=\"onReceive\"/>\r\n                    </div>\r\n                    <div style=\"margin: 10px 0;\">\r\n                        <span class=\"dialog-hover\">景点分类</span>\r\n                        <el-select v-model=\"data.categoryId\" placeholder=\"请选择分类\">\r\n                            <el-option v-for=\"category in categories\" :key=\"category.id\" :label=\"category.name\"\r\n                                :value=\"category.id\">\r\n                            </el-option>\r\n                        </el-select>\r\n                    </div>\r\n                </el-row>\r\n            </div>\r\n            <span slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button size=\"small\" v-if=\"!isOperation\"\r\n                    style=\"background-color: rgb(96, 98, 102);color: rgb(247,248,249);border: none;\" class=\"customer\"\r\n                    type=\"info\" @click=\"addOperation()\">新增</el-button>\r\n                <el-button size=\"small\" v-else\r\n                    style=\"background-color: rgb(96, 98, 102);color: rgb(247,248,249);border: none;\" class=\"customer\"\r\n                    type=\"info\" @click=\"updateOperation()\">修改</el-button>\r\n                <el-button class=\"customer\" size=\"small\" style=\"background-color: rgb(211, 241, 241);border: none;\"\r\n                    @click=\"cannel()\">取消</el-button>\r\n            </span>\r\n        </el-dialog>\r\n        <el-dialog :show-close=\"false\" :visible.sync=\"dialogLineOperation\" width=\"28%\">\r\n            <div slot=\"title\">\r\n                <p class=\"dialog-title\">{{ !isLineOperation ? '新增景点路线' : '修改景点路线信息' }}</p>\r\n            </div>\r\n            <div style=\"padding:0 20px;\">\r\n                <el-row>\r\n                    <span class=\"dialog-hover\">路线封面</span>\r\n                    <el-upload class=\"avatar-uploader\" action=\"/api/online-travel-sys/v1.0/file/upload\"\r\n                        :show-file-list=\"false\" :on-success=\"handleCoverSuccess\">\r\n                        <img v-if=\"cover\" :src=\"cover\" style=\"width: 250px;height: 150px;\">\r\n                        <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n                    </el-upload>\r\n                </el-row>\r\n                <el-row style=\"margin-bottom: 20px;\">\r\n                    <div>\r\n                        <span class=\"dialog-hover\">景点简介</span>\r\n                    </div>\r\n                    <el-input style=\"width: 100%;\" type=\"textarea\" :rows=\"2\" placeholder=\"请输入内容\"\r\n                        v-model=\"scenicLine.detail\">\r\n                    </el-input>\r\n                    <div>\r\n                        <span class=\"dialog-hover\">优先级</span>\r\n                    </div>\r\n                    <el-slider v-model=\"scenicLine.level\"></el-slider>\r\n                </el-row>\r\n            </div>\r\n            <span slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button size=\"small\" v-if=\"!isLineOperation\"\r\n                    style=\"background-color: rgb(96, 98, 102);color: rgb(247,248,249);border: none;\" class=\"customer\"\r\n                    type=\"info\" @click=\"addLineOperation()\">新增路线</el-button>\r\n                <el-button size=\"small\" v-else\r\n                    style=\"background-color: rgb(96, 98, 102);color: rgb(247,248,249);border: none;\" class=\"customer\"\r\n                    type=\"info\" @click=\"updateLineOperation()\">修改路线</el-button>\r\n                <el-button class=\"customer\" size=\"small\" style=\"background-color: rgb(211, 241, 241);border: none;\"\r\n                    @click=\"cannelLine()\">取消</el-button>\r\n            </span>\r\n        </el-dialog>\r\n        <el-drawer title=\"景点路线\" width=\"35%\" :visible.sync=\"drawer\" :direction=\"direction\">\r\n            <div class=\"add-line\">\r\n                <span @click=\"addLine\" style=\"cursor: pointer;font-size: 14px\">\r\n                    <i class=\"el-icon-plus\"></i>\r\n                    添加路线\r\n                </span>\r\n            </div>\r\n            <div v-if=\"scenicLines.length === 0\">\r\n                <el-empty description=\"暂无路线信息\"></el-empty>\r\n            </div>\r\n            <div v-else>\r\n                <div>\r\n                    <el-timeline>\r\n                        <el-timeline-item v-for=\"(scenicLine, index) in scenicLines\" :key=\"index\"\r\n                            :timestamp=\"scenicLine.createTime\" placement=\"top\">\r\n                            <el-card>\r\n                                <div>\r\n                                    <img style=\"width: 100%;height: 200px;border-radius: 5px;\" :src=\"scenicLine.cover\"\r\n                                        alt=\"路线封面\">\r\n                                </div>\r\n                                <p style=\"margin-bottom: 8px;font-size: 14px;color: rgb(97, 97, 97);\">{{\r\n                                    scenicLine.detail }}\r\n                                </p>\r\n                                <div>\r\n                                    <el-tooltip class=\"item\" effect=\"dark\" content=\"修改景点路线\" placement=\"bottom\">\r\n                                        <el-button @click=\"updateLine(scenicLine)\" type=\"primary\" icon=\"el-icon-edit\"\r\n                                            circle></el-button>\r\n                                    </el-tooltip>\r\n                                    <el-tooltip class=\"item\" effect=\"dark\" content=\"删除景点路线\" placement=\"bottom\">\r\n                                        <el-button @click=\"deleteLine(scenicLine)\" type=\"danger\" icon=\"el-icon-delete\"\r\n                                            circle></el-button>\r\n                                    </el-tooltip>\r\n                                </div>\r\n                            </el-card>\r\n                        </el-timeline-item>\r\n                    </el-timeline>\r\n                </div>\r\n            </div>\r\n        </el-drawer>\r\n    </el-row>\r\n</template>\r\n\r\n<script>\r\nimport Editor from \"@/components/Editor\"\r\nexport default {\r\n    components: { Editor },\r\n    data() {\r\n        return {\r\n            scenicLine: {},\r\n            data: {},\r\n            filterText: '',\r\n            cover: '',\r\n            currentPage: 1,\r\n            drawer: false, // 控制景点路线的抽屉开关\r\n            direction: 'rtl', // right to left\r\n            pageSize: 10,\r\n            totalItems: 0,\r\n            dialogLineOperation: false, // 景点路线弹窗确认\r\n            isLineOperation: false, // 景点路线操作时显示文本开关\r\n            dialogOperation: false, // 开关\r\n            isOperation: false, // 开关-标识新增或修改\r\n            tableData: [],\r\n            selectedRows: [],\r\n            scenicQueryDto: {}, // 搜索条件\r\n            categories: [],\r\n            searchTime: [],\r\n            scenicLines: [],\r\n            users: [],\r\n            isAuditList: [{ value: null, label: '全部' }, { value: 0, label: '未审核' }, { value: 1, label: '已审核' }],\r\n            statusList: [{ value: null, label: '全部' }, { value: 0, label: '不可用' }, { value: 1, label: '可用' }],\r\n        };\r\n    },\r\n    created() {\r\n        this.fetchFreshData();\r\n        this.fetchUsers();\r\n        this.fetchCategories();\r\n    },\r\n    methods: {\r\n        onReceive(content){\r\n            this.data.detail = content;\r\n        },\r\n        // 修改景点信息\r\n        updateLine(scenicLine) {\r\n            this.dialogLineOperation = true;\r\n            this.isLineOperation = true;\r\n            this.cover = scenicLine.cover;\r\n            this.scenicLine = scenicLine;\r\n        },\r\n        // 删除景点信息\r\n        deleteLine(scenicLine) {\r\n            this.$confirm('此操作将删除该景区路线, 是否继续?', '操作提示', {\r\n                confirmButtonText: '确定',\r\n                cancelButtonText: '取消',\r\n                type: 'warning'\r\n            }).then(() => {\r\n                let ids = [scenicLine.id];\r\n                this.$axios.post(`/scenicLine/batchDelete`, ids).then(res => {\r\n                    if (res.data.code === 200) {\r\n                        this.$message.success('景点路线删除成功');\r\n                        this.fetchScenicLines(this.data.id);\r\n                    }\r\n                })\r\n            }).catch(() => {\r\n                console.log(\"操作取消\");\r\n            });\r\n        },\r\n        cannelLine() {\r\n            this.scenicLine = {};\r\n            this.dialogLineOperation = false;\r\n            this.isLineOperation = false;\r\n            this.cover = '';\r\n        },\r\n        addLine() {\r\n            this.dialogLineOperation = true;\r\n        },\r\n        scenicLineHandle(scenic) {\r\n            this.data = scenic;\r\n            this.scenicLine.scenicId = scenic.id;\r\n            this.fetchScenicLines(scenic.id);\r\n        },\r\n        // 请求景点路线信息\r\n        fetchScenicLines(scenicId) {\r\n            const scenicLineQueryDto = { scenicId: scenicId }\r\n            this.$axios.post('/scenicLine/query', scenicLineQueryDto).then(res => {\r\n                if (res.data.code === 200) {\r\n                    this.scenicLines = res.data.data;\r\n                    this.drawer = true;\r\n                }\r\n            }).catch(error => {\r\n                this.$message.error('查询景点路线信息异常');\r\n                console.error(\"查询景点路线信息异常：\", error);\r\n            });\r\n        },\r\n        // 封面上传\r\n        handleCoverSuccess(res, file) {\r\n            this.$notify({\r\n                duration: 1500,\r\n                title: '封面上传',\r\n                message: res.code === 200 ? '上传成功' : '上传失败',\r\n                type: res.code === 200 ? 'success' : 'error'\r\n            });\r\n            // 上传成功则更新封面\r\n            if (res.code === 200) {\r\n                this.cover = res.data;\r\n            }\r\n        },\r\n        // 获取景点分类\r\n        fetchCategories() {\r\n            this.$axios.post('/scenicCategory/query', {}).then(res => {\r\n                if (res.data.code === 200) {\r\n                    this.categories = res.data.data;\r\n                }\r\n            }).catch(error => {\r\n                console.error(\"查询景点分类信息异常：\", error);\r\n            });\r\n        },\r\n        // 获取供应商信息\r\n        fetchUsers() {\r\n            this.$axios.post('/vendor/query', {}).then(res => {\r\n                if (res.data.code === 200) {\r\n                    this.users = res.data.data;\r\n                }\r\n            }).catch(error => {\r\n                console.error(\"查询供应商信息异常：\", error);\r\n            });\r\n        },\r\n        // 置位\r\n        cannel() {\r\n            this.data = {};\r\n            this.cover = '';\r\n            this.dialogOperation = false;\r\n            this.isOperation = false;\r\n        },\r\n        // 批量删除数据\r\n        async batchDelete() {\r\n            if (!this.selectedRows.length) {\r\n                this.$message(`未选中任何数据`);\r\n                return;\r\n            }\r\n            const confirmed = await this.$swalConfirm({\r\n                title: '删除景点数据',\r\n                text: `删除后不可恢复，是否继续？`,\r\n                icon: 'warning',\r\n            });\r\n            if (confirmed) {\r\n                try {\r\n                    let ids = this.selectedRows.map(entity => entity.id);\r\n                    const response = await this.$axios.post(`/scenic/batchDelete`, ids);\r\n                    if (response.data.code === 200) {\r\n                        this.$swal.fire({\r\n                            title: '删除提示',\r\n                            text: response.data.msg,\r\n                            icon: 'success',\r\n                            showConfirmButton: false,\r\n                            timer: 2000,\r\n                        });\r\n                        this.fetchFreshData();\r\n                        return;\r\n                    }\r\n                } catch (e) {\r\n                    this.$swal.fire({\r\n                        title: '错误提示',\r\n                        text: e,\r\n                        icon: 'error',\r\n                        showConfirmButton: false,\r\n                        timer: 2000,\r\n                    });\r\n                    console.error(`景点信息删除异常：`, e);\r\n                }\r\n            }\r\n        },\r\n        // 修改路线信息\r\n        async updateLineOperation() {\r\n            try {\r\n                this.scenicLine.cover = this.cover;\r\n                const response = await this.$axios.put('/scenicLine/update', this.scenicLine);\r\n                this.$swal.fire({\r\n                    title: '景点路线信息修改',\r\n                    text: response.data.msg,\r\n                    icon: response.data.code === 200 ? 'success' : 'error',\r\n                    showConfirmButton: false,\r\n                    timer: 1000,\r\n                });\r\n                if (response.data.code === 200) {\r\n                    this.fetchScenicLines(this.data.id);\r\n                    this.cannelLine();\r\n                }\r\n            } catch (error) {\r\n                console.error('提交表单时出错:', error);\r\n                this.$message.error('提交失败，请稍后再试！');\r\n            }\r\n        },\r\n        // 修改信息\r\n        async updateOperation() {\r\n            try {\r\n                this.data.cover = this.cover;\r\n                const response = await this.$axios.put('/scenic/update', this.data);\r\n                this.clearFormData();\r\n                this.$swal.fire({\r\n                    title: '景点信息修改',\r\n                    text: response.data.msg,\r\n                    icon: response.data.code === 200 ? 'success' : 'error',\r\n                    showConfirmButton: false,\r\n                    timer: 1000,\r\n                });\r\n                if (response.data.code === 200) {\r\n                    this.cannel();\r\n                    this.fetchFreshData(this.data);\r\n                }\r\n            } catch (error) {\r\n                console.error('提交表单时出错:', error);\r\n                this.$message.error('提交失败，请稍后再试！');\r\n            }\r\n        },\r\n        // 信息新增\r\n        async addLineOperation() {\r\n            try {\r\n                this.scenicLine.scenicId = this.data.id;\r\n                this.scenicLine.cover = this.cover;\r\n                const response = await this.$axios.post('/scenicLine/save', this.scenicLine);\r\n                this.$message[response.data.code === 200 ? 'success' : 'error'](response.data.msg);\r\n                if (response.data.code === 200) {\r\n                    this.cannelLine();\r\n                    this.fetchScenicLines(this.data.id);\r\n                }\r\n            } catch (error) {\r\n                console.error('提交表单时出错:', error);\r\n                this.$message.error('提交失败，请稍后再试！');\r\n            }\r\n        },\r\n        // 信息新增\r\n        async addOperation() {\r\n            try {\r\n                this.data.cover = this.cover;\r\n                const response = await this.$axios.post('/scenic/save', this.data);\r\n                this.$message[response.data.code === 200 ? 'success' : 'error'](response.data.msg);\r\n                if (response.data.code === 200) {\r\n                    this.cannel();\r\n                    this.fetchFreshData();\r\n                }\r\n            } catch (error) {\r\n                console.error('提交表单时出错:', error);\r\n                this.$message.error('提交失败，请稍后再试！');\r\n            }\r\n        },\r\n        clearFormData() {\r\n            this.data = {};\r\n        },\r\n        async fetchFreshData() {\r\n            try {\r\n                let startTime = null;\r\n                let endTime = null;\r\n                if (this.searchTime != null && this.searchTime.length === 2) {\r\n                    const [startDate, endDate] = await Promise.all(this.searchTime.map(date => date.toISOString()));\r\n                    startTime = `${startDate.split('T')[0]}T00:00:00`;\r\n                    endTime = `${endDate.split('T')[0]}T23:59:59`;\r\n                }\r\n                // 请求参数\r\n                const params = {\r\n                    current: this.currentPage,\r\n                    size: this.pageSize,\r\n                    key: this.filterText,\r\n                    startTime: startTime,\r\n                    endTime: endTime,\r\n                    ...this.scenicQueryDto\r\n                };\r\n                const response = await this.$axios.post('/scenic/queryVendorScenic', params);\r\n                const { data } = response;\r\n                this.tableData = data.data;\r\n                this.totalItems = data.total;\r\n            } catch (error) {\r\n                console.error('查询景点信息异常:', error);\r\n            }\r\n        },\r\n        add() {\r\n            this.dialogOperation = true;\r\n        },\r\n        handleFilter() {\r\n            this.currentPage = 1;\r\n            this.fetchFreshData();\r\n        },\r\n        handleFilterClear() {\r\n            this.filterText = '';\r\n            this.handleFilter();\r\n        },\r\n        handleSizeChange(val) {\r\n            this.pageSize = val;\r\n            this.currentPage = 1;\r\n            this.fetchFreshData();\r\n        },\r\n        handleCurrentChange(val) {\r\n            this.currentPage = val;\r\n            this.fetchFreshData();\r\n        },\r\n        handleEdit(row) {\r\n            this.cover = row.cover;\r\n            this.dialogOperation = true;\r\n            this.isOperation = true;\r\n            this.data = { ...row }\r\n        },\r\n        handleDelete(row) {\r\n            this.selectedRows.push(row);\r\n            this.batchDelete();\r\n        }\r\n    },\r\n};\r\n</script>\r\n<style scoped lang=\"scss\">\r\n.add-line {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    background-color: rgb(64, 158, 255);\r\n    padding: 10px 20px;\r\n    margin: 10px 20px;\r\n    color: rgb(245, 245, 245);\r\n    border-radius: 5px;\r\n}\r\n</style>"]}]}