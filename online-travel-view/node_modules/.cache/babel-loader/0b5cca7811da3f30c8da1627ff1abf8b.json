{"remainingRequest":"D:\\毕业设计\\Online-Travel\\online-travel-view\\node_modules\\babel-loader\\lib\\index.js!D:\\毕业设计\\Online-Travel\\online-travel-view\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\毕业设计\\Online-Travel\\online-travel-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\毕业设计\\Online-Travel\\online-travel-view\\src\\views\\admin\\HotelRoomBedManage.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\毕业设计\\Online-Travel\\online-travel-view\\src\\views\\admin\\HotelRoomBedManage.vue","mtime":1743495708215},{"path":"D:\\毕业设计\\Online-Travel\\online-travel-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\毕业设计\\Online-Travel\\online-travel-view\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\毕业设计\\Online-Travel\\online-travel-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\毕业设计\\Online-Travel\\online-travel-view\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\毕业设计\\Online-Travel\\online-travel-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\毕业设计\\Online-Travel\\online-travel-view\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\毕业设计\\Online-Travel\\online-travel-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\毕业设计\\Online-Travel\\online-travel-view\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiB7CiAgICByb29tSWQ6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAnJwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIHJvb21JZCh2MSwgdjIpIHsKICAgICAgdGhpcy5mZXRjaEJlZHModjEpOwogICAgfQoKICB9LAoKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZGF0YToge30sCiAgICAgIGJlZHM6IFtdLAogICAgICBiZWRPcGVyYWlvbjogZmFsc2UsCiAgICAgIC8vIOaOp+WItuW6iuS9jeaWsOWini/nvJbovpHnmoTlvIDlhbPlj5jph48KICAgICAgaXNPcGVyYXRpb246IGZhbHNlIC8vIGZhbHNlOiDmlrDlop7vvJt0cnVl77yaIOS/ruaUuQoKICAgIH07CiAgfSwKCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuZmV0Y2hCZWRzKCk7CiAgfSwKCiAgbWV0aG9kczogewogICAgYXN5bmMgZGVsZXRlQmVkKGJlZCkgewogICAgICBsZXQgaWRzID0gW2JlZC5pZF07CiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy4kYXhpb3MucG9zdChgL2hvdGVsUm9vbUJlZC9iYXRjaERlbGV0ZWAsIGlkcyk7CgogICAgICBpZiAocmVzcG9uc2UuZGF0YS5jb2RlID09PSAyMDApIHsKICAgICAgICB0aGlzLmNhbm5lbCgpOwogICAgICAgIHRoaXMuZmV0Y2hCZWRzKCk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICB9LAoKICAgIGNyZWF0ZUJlZCgpIHsKICAgICAgdGhpcy5kYXRhID0ge307CiAgICAgIHRoaXMuYmVkT3BlcmFpb24gPSB0cnVlOwogICAgfSwKCiAgICB1cGRhdGVCZWRJbmZvKGJlZCkgewogICAgICB0aGlzLmRhdGEgPSBiZWQ7CiAgICAgIHRoaXMuYmVkT3BlcmFpb24gPSB0cnVlOwogICAgICB0aGlzLmlzT3BlcmF0aW9uID0gdHJ1ZTsKICAgIH0sCgogICAgLy8g5bqK5L2N5paw5aKeCiAgICBhZGRPcGVyYXRpb24ocm9vbUlkKSB7CiAgICAgIGNvbnN0IGhvdGVsUm9vbUJlZCA9IHsKICAgICAgICByb29tSWQ6IHRoaXMuJHByb3BzLnJvb21JZCwKICAgICAgICAuLi50aGlzLmRhdGEKICAgICAgfTsKICAgICAgdGhpcy4kYXhpb3MucG9zdCgnL2hvdGVsUm9vbUJlZC9zYXZlJywgaG90ZWxSb29tQmVkKS50aGVuKHJlcyA9PiB7CiAgICAgICAgaWYgKHJlcy5kYXRhLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgLy8g5YWz6Zet5pON5L2c5Yy65Z+fCiAgICAgICAgICB0aGlzLmJlZE9wZXJhaW9uID0gZmFsc2U7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+W6iuS9jeaWsOWinuaIkOWKnycpOwogICAgICAgICAgdGhpcy5mZXRjaEJlZHMoKTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGVycm9yID0+IHsKICAgICAgICBjb25zb2xlLmVycm9yKCLmn6Xor6LluorkvY3kv6Hmga/lvILluLg6IiwgZXJyb3IpOwogICAgICB9KTsKICAgIH0sCgogICAgLy8g5bqK5L2N5L+u5pS5CiAgICB1cGRhdGVPcGVyYXRpb24oKSB7CiAgICAgIHRoaXMuJGF4aW9zLnB1dCgnL2hvdGVsUm9vbUJlZC91cGRhdGUnLCB0aGlzLmRhdGEpLnRoZW4ocmVzID0+IHsKICAgICAgICBpZiAocmVzLmRhdGEuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAvLyDlhbPpl63mk43kvZzljLrln58KICAgICAgICAgIHRoaXMuYmVkT3BlcmFpb24gPSBmYWxzZTsKICAgICAgICAgIHRoaXMuaXNPcGVyYXRpb24gPSBmYWxzZTsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn5bqK5L2N5L+u5pS55oiQ5YqfJyk7CiAgICAgICAgICB0aGlzLmZldGNoQmVkcygpOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZXJyb3IgPT4gewogICAgICAgIGNvbnNvbGUuZXJyb3IoIuafpeivouW6iuS9jeS/oeaBr+W8guW4uDoiLCBlcnJvcik7CiAgICAgIH0pOwogICAgfSwKCiAgICAvLyDlj5bmtojkuovku7YKICAgIGNhbm5lbCgpIHsKICAgICAgdGhpcy5kYXRhID0ge307CiAgICAgIHRoaXMuYmVkT3BlcmFpb24gPSBmYWxzZTsKICAgICAgdGhpcy5pc09wZXJhdGlvbiA9IGZhbHNlOwogICAgfSwKCiAgICAvLyDliqDovb3lr7nlupTnmoTluorkvY3kv6Hmga8KICAgIGZldGNoQmVkcygpIHsKICAgICAgY29uc3QgaG90ZWxSb29tQmVkUXVlcnlEdG8gPSB7CiAgICAgICAgcm9vbUlkOiB0aGlzLnJvb21JZAogICAgICB9OwogICAgICB0aGlzLiRheGlvcy5wb3N0KCcvaG90ZWxSb29tQmVkL3F1ZXJ5JywgaG90ZWxSb29tQmVkUXVlcnlEdG8pLnRoZW4ocmVzID0+IHsKICAgICAgICBpZiAocmVzLmRhdGEuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICB0aGlzLmJlZHMgPSByZXMuZGF0YS5kYXRhOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZXJyb3IgPT4gewogICAgICAgIGNvbnNvbGUuZXJyb3IoIuafpeivouW6iuS9jeS/oeaBr+W8guW4uDoiLCBlcnJvcik7CiAgICAgIH0pOwogICAgfQoKICB9Cn07"},{"version":3,"sources":["HotelRoomBedManage.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div>\r\n        <div v-if=\"bedOperaion\" style=\"padding: 20px;\">\r\n            <div>\r\n                <span class=\"dialog-hover\">床位号</span>\r\n                <input class=\"dialog-input\" v-model=\"data.number\" placeholder=\"输入\" />\r\n                <el-row style=\"margin: 20px 0;\">\r\n                    <div>\r\n                        <span class=\"dialog-hover\">床位状态</span>\r\n                    </div>\r\n                    <el-switch active-color=\"#13ce66\" inactive-color=\"#ff4949\" v-model=\"data.status\" active-text=\"可用\"\r\n                        inactive-text=\"不可用\">\r\n                    </el-switch>\r\n                </el-row>\r\n            </div>\r\n            <div style=\"display: flex;justify-content: center;align-items: center;\">\r\n                <el-button size=\"small\" v-if=\"!isOperation\"\r\n                    style=\"background-color: rgb(96, 98, 102);color: rgb(247,248,249);border: none;\" class=\"customer\"\r\n                    type=\"info\" @click=\"addOperation()\">新增</el-button>\r\n                <el-button size=\"small\" v-else\r\n                    style=\"background-color: rgb(96, 98, 102);color: rgb(247,248,249);border: none;\" class=\"customer\"\r\n                    type=\"info\" @click=\"updateOperation()\">修改</el-button>\r\n            </div>\r\n        </div>\r\n        <div style=\"display: flex;justify-content: center;align-items: center;margin: 10px;\">\r\n            <el-button style=\"width: 100%;\" v-if=\"beds.length !== 0\" size=\"mini\" type=\"info\"\r\n                @click=\"createBed\">创建床位信息</el-button>\r\n        </div>\r\n\r\n        <div v-if=\"beds.length === 0\">\r\n            <el-empty>\r\n                <el-button type=\"info\" @click=\"createBed\">创建床位信息</el-button>\r\n            </el-empty>\r\n        </div>\r\n        <div v-else style=\"padding: 10px;\">\r\n            <div class=\"bed-item\" v-for=\"(bed, index) in beds\" :key=\"index\">\r\n                <div style=\"font-size: 18px;\">\r\n                    <span style=\"margin-right: 5px;\">\r\n                        <i class=\"el-icon-table-lamp\"></i>\r\n                        床位号：{{ bed.number }}\r\n                    </span>\r\n                    <span>{{ bed.status ? '状态可用' : '状态不可用' }}</span>\r\n                </div>\r\n                <div style=\"margin: 8px 6px;font-size: 12px;\">\r\n                    创建时间：{{ bed.createTime }}\r\n                </div>\r\n                <div>\r\n                    <el-button style=\"margin-right: 10px;\" @click=\"updateBedInfo(bed)\" size=\"mini\" type=\"primary\"\r\n                        icon=\"el-icon-edit\" circle></el-button>\r\n                    <el-popconfirm title=\"确定删除床位信息？\" @confirm=\"deleteBed(bed)\">\r\n                        <el-button slot=\"reference\" size=\"mini\" type=\"danger\" icon=\"el-icon-delete\" circle></el-button>\r\n                    </el-popconfirm>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    props: {\r\n        roomId: {\r\n            type: Number,\r\n            default: ''\r\n        },\r\n    },\r\n    watch: {\r\n        roomId(v1, v2) {\r\n            this.fetchBeds(v1);\r\n        },\r\n    },\r\n    data() {\r\n        return {\r\n            data: {},\r\n            beds: [],\r\n            bedOperaion: false, // 控制床位新增/编辑的开关变量\r\n            isOperation: false, // false: 新增；true： 修改\r\n        }\r\n    },\r\n    created() {\r\n        this.fetchBeds();\r\n    },\r\n    methods: {\r\n        async deleteBed(bed) {\r\n            let ids = [bed.id]\r\n            const response = await this.$axios.post(`/hotelRoomBed/batchDelete`, ids);\r\n            if (response.data.code === 200) {\r\n                this.cannel();\r\n                this.fetchBeds();\r\n                return;\r\n            }\r\n        },\r\n        createBed() {\r\n            this.data = {};\r\n            this.bedOperaion = true;\r\n        },\r\n        updateBedInfo(bed) {\r\n            this.data = bed;\r\n            this.bedOperaion = true;\r\n            this.isOperation = true;\r\n        },\r\n        // 床位新增\r\n        addOperation(roomId) {\r\n            const hotelRoomBed = {\r\n                roomId: this.$props.roomId,\r\n                ...this.data\r\n            }\r\n            this.$axios.post('/hotelRoomBed/save', hotelRoomBed).then(res => {\r\n                if (res.data.code === 200) {\r\n                    // 关闭操作区域\r\n                    this.bedOperaion = false;\r\n                    this.$message.success('床位新增成功');\r\n                    this.fetchBeds();\r\n                }\r\n            }).catch(error => {\r\n                console.error(\"查询床位信息异常:\", error);\r\n\r\n            })\r\n        },\r\n        // 床位修改\r\n        updateOperation() {\r\n            this.$axios.put('/hotelRoomBed/update', this.data).then(res => {\r\n                if (res.data.code === 200) {\r\n                    // 关闭操作区域\r\n                    this.bedOperaion = false;\r\n                    this.isOperation = false;\r\n                    this.$message.success('床位修改成功');\r\n                    this.fetchBeds();\r\n                }\r\n            }).catch(error => {\r\n                console.error(\"查询床位信息异常:\", error);\r\n\r\n            })\r\n        },\r\n        // 取消事件\r\n        cannel() {\r\n            this.data = {};\r\n            this.bedOperaion = false;\r\n            this.isOperation = false;\r\n        },\r\n        // 加载对应的床位信息\r\n        fetchBeds() {\r\n            const hotelRoomBedQueryDto = {\r\n                roomId: this.roomId\r\n            }\r\n            this.$axios.post('/hotelRoomBed/query', hotelRoomBedQueryDto).then(res => {\r\n                if (res.data.code === 200) {\r\n                    this.beds = res.data.data;\r\n                }\r\n            }).catch(error => {\r\n                console.error(\"查询床位信息异常:\", error);\r\n\r\n            })\r\n        },\r\n    },\r\n};\r\n</script>\r\n<style scoped lang=\"scss\">\r\n.bed-item {\r\n    background-color: rgb(248, 248, 248);\r\n    padding: 10px;\r\n    border-radius: 5px;\r\n    margin-bottom: 4px;\r\n}\r\n</style>"],"sourceRoot":"src/views/admin"}]}